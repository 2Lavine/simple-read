# 解决路径问题

在使用file-loader或url-loader时，可能会遇到一个非常有趣的问题

比如，通过webpack打包的目录结构如下：

```yaml
dist
    |—— img
        |—— a.png  #file-loader生成的文件
    |—— scripts
        |—— main.js  #export default "img/a.png"
    |—— html
        |—— index.html #<script src="../scripts/main.js" ></script>
```

此时 index.html导入的 main.js中的图片路径也是 img/a.png 但是，实际的图片应该是 ../img/a.png



这种问题发生的根本原因：模块中的路径来自于某个loader或plugin，当产生路径时，loader或plugin只有相对于dist目录的路径，并不知道该路径将在哪个资源中使用，从而无法确定最终正确的路径

面对这种情况，需要依靠webpack的配置output.publicPath解决,

publicPath 通常

- publicPath本质是一个字符串
- 我们可以在 js 中使用 __webpack\_\_public\_\_path 来引用这个变量
- 一些 loader 或者 plugin 可能会使用这个变脸
  - 为了防止冲突，这些 plugin或者 loader 会提供传入的参数pubilcPath来选择