> 本文由 [简悦 SimpRead](http://ksria.com/simpread/) 转码， 原文地址 [juejin.cn](https://juejin.cn/post/7294841029681315855?utm_source=gold_browser_extension)

前言
--

有个朋友说前端技能大家大部分都会，就是部署项目这一块经验都比较稀缺，一直很想学一下。所以在这里写一篇简单的从零开始部署前端项目的全过程，感兴趣的掘友们或者想自己搭建项目部署的可以看一下这篇。

环境搭建
----

首先我们需要进行环境搭建主要就是`服务器`和`nginx配置`。

### 服务器

如果有服务器的直接可以通过远程工具远程到服务器（有服务器的可以 **跳到前端资源** 那一步开始阅读），我自己本身是用 **xshell** 软件进行远程连接的，挺好用的。 若没有服务器的可以通过 **VMWare 软件** 搭建一个虚拟机来实现，想实践的可以去 VMWare 官网下载一个可以试用一个月的，下载完之后还需要一个镜像文件，我下载的是 **centos**，具体下载流程可以参照[这个](https://link.juejin.cn?target=https%3A%2F%2Fblog.csdn.net%2Fweixin_45910254%2Farticle%2Fdetails%2F131241888 "https://blog.csdn.net/weixin_45910254/article/details/131241888")。

下载完之后就可以去 VMWare 新建虚拟机，然后就是傻瓜式下一步，遇到下面的界面，选择对应的 iso 镜像文件的路径即可，遇到设置用户名和密码的界面，要记得用户名和密码，后面要用到，之后就是一直下一步到完成。

![](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e46edb2457a14b96bb68c7a0ef3608fc~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=496&h=433&s=19951&e=png&b=f1f1f1)

安装完之后在左边的 tab 会出现对应安装好的虚拟机，这个时候启动即可

![](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a9d904d86804482c8c3c986cc6f1c9a0~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=458&h=194&s=8216&e=png&b=fefefe)

若是启动的过程中出现弹框报错 `VMware提示此主机支持Intel VT-x但Intel VT-x处于禁用状态`，大概率是 BIOS 设置的某一项为 disable，所以大家需要自己的电脑进入 bios 设置，开启对应的选项并保存重启。

![](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/10ab4c6d11fc413284ebbe144f0c1cc4~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=692&h=351&s=293182&e=png&b=97968e)

### 远程连接

这个步骤有服务器的可以直接跳过，有了服务器之后我们就可以先与服务器建立连接，这样后续操作部署之类的也会比较方便。

首先打开虚拟机的虚拟网络编辑器，位置如下

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/878ed73890664d3aa4a9f838d2853542~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=585&h=284&s=20638&e=png&b=fbfbfb)

打开主机的命令行，查询 ip 配置，进行网络配置，要特别注意**子网 IP 中网段要与本地电脑的网段必须保持一致**

![](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b2d23cac97dc44eab790d00fddee7ef1~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=1435&h=652&s=344194&e=jpg&b=f4f3f3)

**网关 IP 中网段必须要与本地电脑的默认网关的网段保持一致**

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b49e193d27d146ab9738a602829f7eab~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=1366&h=603&s=239349&e=jpg&b=0c0c0c)

上述配置完之后，就是右键虚拟机 -> 设置 -> 选择第 2 步中设置了 Nat 模式的网卡

![](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bcdff3ff99494f7b9ba25cc6f77ea32f~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=1398&h=1013&s=96722&e=png&b=fcfcfc)

然后就可以打开虚拟机的命令行，然后查看一下 ip（输入命令 `ifcofig`）

![](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/918f0a14147241fd89391456253608f3~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=824&h=552&s=145330&e=png&b=fcfcfc)

然后就可以根据 ip 进行连接，我是通过 xftp 进行连接，用户名得用 root 这是默认超级管理员的用户名 (因为后续部署前端项目需要该权限)，密码则是最开始配置虚拟机设置的密码，然后就远程成功了

![](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/62c7ebe33db34d918702c452e80dff7b~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=512&h=718&s=38204&e=png&b=f9f9f9)

### 前端资源

可以远程之后我们就可以直接将打包好的前端资源部署到服务器，以我为例，通过 xftp 将 dist 上传到服务器的路径`/var/www/test`

![](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/72f9fc2c34214c1abe2ca093dc898810~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=626&h=217&s=18541&e=png&b=f9f9f9)

这个时候我们在我们的主机，浏览器访问远程 ip，发现什么也没有

这是为什么？

因为我们没有进行 nginx 的映射，所以需要安装 nginx

### Nginx 配置

执行以下命令安装 nginx

```
sudo yum install epel-release
sudo yum install nginx
```

启动 nginx

```
sudo systemctl start nginx
```

启动完之后我们需要更改配置文件，配置文件路径在 etc/nginx/nginx.conf，主要配置是 location，路径配置对应的前端项目路径，我们需要将其映射到我们的前端资源

```
# For more information on configuration, see:
#   * Official English Documentation: http://nginx.org/en/docs/
#   * Official Russian Documentation: http://nginx.org/ru/docs/

user nginx;
worker_processes auto;
error_log /var/log/nginx/error.log;
pid /run/nginx.pid;

# Load dynamic modules. See /usr/share/doc/nginx/README.dynamic.
include /usr/share/nginx/modules/*.conf;

events {
    worker_connections 1024;
}

http {
    log_format  main  '$remote_addr - $remote_user [$time_local] "$request" '
                      '$status $body_bytes_sent "$http_referer" '
                      '"$http_user_agent" "$http_x_forwarded_for"';

    access_log  /var/log/nginx/access.log  main;

    sendfile            on;
    tcp_nopush          on;
    tcp_nodelay         on;
    keepalive_timeout   65;
    types_hash_max_size 4096;

    include             /etc/nginx/mime.types;
    default_type        application/octet-stream;

    # Load modular configuration files from the /etc/nginx/conf.d directory.
    # See http://nginx.org/en/docs/ngx_core_module.html#include
    # for more information.
    include /etc/nginx/conf.d/*.conf;

    server {
        listen       80;
        listen       [::]:80;
        server_name  localhost;

        location / {
            root   /var/www/test/;
            index  index.html index.htm;
        }
        

        # Load configuration files for the default server block.
        include /etc/nginx/default.d/*.conf;

        error_page 404 /404.html;
        location = /404.html {
        }

        error_page 500 502 503 504 /50x.html;
        location = /50x.html {
        }
    }

}
```

修改完之后重启 nginx

```
sudo systemctl restart nginx
```

主机通过浏览器访问虚拟机 ip，发现成功了

![](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e95e7b4be68849f9a2e3eda7c705232e~tplv-k3u1fbpfcp-jj-mark:3024:0:0:0:q75.awebp#?w=962&h=577&s=37449&e=png&b=ffffff)