> æœ¬æ–‡ç”± [ç®€æ‚¦ SimpRead](http://ksria.com/simpread/) è½¬ç ï¼Œ åŸæ–‡åœ°å€ [juejin.cn](https://juejin.cn/post/6844904038543130637?searchId=2024013109533719B9C5AE5C320162A1DF)

å‰è¨€
--

[å®è·µç³»åˆ—] ä¸»è¦æ˜¯è®©æˆ‘ä»¬é€šè¿‡å®è·µå»åŠ æ·±å¯¹ä¸€äº›åŸç†çš„ç†è§£ã€‚

[[å®è·µç³»åˆ—] å‰ç«¯è·¯ç”±](https://juejin.cn/post/6844903759458336776 "https://juejin.cn/post/6844903759458336776")

[[å®è·µç³»åˆ—]Babel åŸç†](https://juejin.cn/post/6844903760603398151 "https://juejin.cn/post/6844903760603398151")

[[å®è·µç³»åˆ—] å®è·µè¿™ä¸€æ¬¡, å½»åº•ææ‡‚æµè§ˆå™¨ç¼“å­˜æœºåˆ¶](https://juejin.cn/post/6844903764566999054 "https://juejin.cn/post/6844903764566999054")

[[å®è·µç³»åˆ—] ä½ èƒ½æ‰‹å†™ä¸€ä¸ª Promise å—ï¼ŸYes I promiseã€‚](https://juejin.cn/post/6844903763178684430 "https://juejin.cn/post/6844903763178684430")

æœ‰å…´è¶£çš„åŒå­¦å¯ä»¥å…³æ³¨ [[å®è·µç³»åˆ—]](https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fwebfansplz%2Farticle "https://github.com/webfansplz/article") ã€‚ æ±‚ star æ±‚ follow~

æœ¬æ–‡é€šè¿‡å®ç°ä¸€ä¸ªç®€å• webpack, æ¥ç†è§£å®ƒçš„æ‰“åŒ…åŸç†, çœ‹å®Œä¸æ‡‚ç›´æ¥ç›˜æˆ‘ !!!

![](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2020/1/5/16f741d746a0631f~tplv-t2oaga2asx-jj-mark:3024:0:0:0:q75.png)webpack

ä»€ä¹ˆæ˜¯ webpack ?
-------------

> æœ¬è´¨ä¸Š, webpack æ˜¯ä¸€ä¸ªç°ä»£ JavaScript åº”ç”¨ç¨‹åºçš„é™æ€æ¨¡å—æ‰“åŒ…å™¨ (module bundler)ã€‚å½“ webpack å¤„ç†åº”ç”¨ç¨‹åºæ—¶, å®ƒä¼šé€’å½’åœ°æ„å»ºä¸€ä¸ªä¾èµ–å…³ç³»å›¾ (dependency graph), å…¶ä¸­åŒ…å«åº”ç”¨ç¨‹åºéœ€è¦çš„æ¯ä¸ªæ¨¡å—, ç„¶åå°†æ‰€æœ‰è¿™äº›æ¨¡å—æ‰“åŒ…æˆä¸€ä¸ªæˆ–å¤šä¸ª bundleã€‚
> 
> webpack å°±åƒä¸€æ¡ç”Ÿäº§çº¿, è¦ç»è¿‡ä¸€ç³»åˆ—å¤„ç†æµç¨‹åæ‰èƒ½å°†æºæ–‡ä»¶è½¬æ¢æˆè¾“å‡ºç»“æœã€‚ è¿™æ¡ç”Ÿäº§çº¿ä¸Šçš„æ¯ä¸ªå¤„ç†æµç¨‹çš„èŒè´£éƒ½æ˜¯å•ä¸€çš„, å¤šä¸ªæµç¨‹ä¹‹é—´æœ‰å­˜åœ¨ä¾èµ–å…³ç³», åªæœ‰å®Œæˆå½“å‰å¤„ç†åæ‰èƒ½äº¤ç»™ä¸‹ä¸€ä¸ªæµç¨‹å»å¤„ç†ã€‚ æ’ä»¶å°±åƒæ˜¯ä¸€ä¸ªæ’å…¥åˆ°ç”Ÿäº§çº¿ä¸­çš„ä¸€ä¸ªåŠŸèƒ½, åœ¨ç‰¹å®šçš„æ—¶æœºå¯¹ç”Ÿäº§çº¿ä¸Šçš„èµ„æºåšå¤„ç†ã€‚  
> webpack é€šè¿‡ Tapable æ¥ç»„ç»‡è¿™æ¡å¤æ‚çš„ç”Ÿäº§çº¿ã€‚ webpack åœ¨è¿è¡Œè¿‡ç¨‹ä¸­ä¼šå¹¿æ’­äº‹ä»¶, æ’ä»¶åªéœ€è¦ç›‘å¬å®ƒæ‰€å…³å¿ƒçš„äº‹ä»¶, å°±èƒ½åŠ å…¥åˆ°è¿™æ¡ç”Ÿäº§çº¿ä¸­, å»æ”¹å˜ç”Ÿäº§çº¿çš„è¿ä½œã€‚ webpack çš„äº‹ä»¶æµæœºåˆ¶ä¿è¯äº†æ’ä»¶çš„æœ‰åºæ€§, ä½¿å¾—æ•´ä¸ªç³»ç»Ÿæ‰©å±•æ€§å¾ˆå¥½ã€‚ -- æ·±å…¥æµ…å‡º webpack å´æµ©éºŸ

![](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2020/1/5/16f741d40eaf5b45~tplv-t2oaga2asx-jj-mark:3024:0:0:0:q75.png)webpack

webpack æ ¸å¿ƒæ¦‚å¿µ
------------

### Entry

å…¥å£èµ·ç‚¹ (entry point) æŒ‡ç¤º webpack åº”è¯¥ä½¿ç”¨å“ªä¸ªæ¨¡å—, æ¥ä½œä¸ºæ„å»ºå…¶å†…éƒ¨ä¾èµ–å›¾çš„å¼€å§‹ã€‚

è¿›å…¥å…¥å£èµ·ç‚¹å, webpack ä¼šæ‰¾å‡ºæœ‰å“ªäº›æ¨¡å—å’Œåº“æ˜¯å…¥å£èµ·ç‚¹ï¼ˆç›´æ¥å’Œé—´æ¥ï¼‰ä¾èµ–çš„ã€‚

æ¯ä¸ªä¾èµ–é¡¹éšå³è¢«å¤„ç†, æœ€åè¾“å‡ºåˆ°ç§°ä¹‹ä¸º bundles çš„æ–‡ä»¶ä¸­ã€‚

### Output

output å±æ€§å‘Šè¯‰ webpack åœ¨å“ªé‡Œè¾“å‡ºå®ƒæ‰€åˆ›å»ºçš„ bundles, ä»¥åŠå¦‚ä½•å‘½åè¿™äº›æ–‡ä»¶, é»˜è®¤å€¼ä¸º ./distã€‚

åŸºæœ¬ä¸Š, æ•´ä¸ªåº”ç”¨ç¨‹åºç»“æ„, éƒ½ä¼šè¢«ç¼–è¯‘åˆ°ä½ æŒ‡å®šçš„è¾“å‡ºè·¯å¾„çš„æ–‡ä»¶å¤¹ä¸­ã€‚

### Module

æ¨¡å—, åœ¨ Webpack é‡Œä¸€åˆ‡çš†æ¨¡å—, ä¸€ä¸ªæ¨¡å—å¯¹åº”ç€ä¸€ä¸ªæ–‡ä»¶ã€‚Webpack ä¼šä»é…ç½®çš„ Entry å¼€å§‹é€’å½’æ‰¾å‡ºæ‰€æœ‰ä¾èµ–çš„æ¨¡å—ã€‚

### Chunk

ä»£ç å—, ä¸€ä¸ª Chunk ç”±å¤šä¸ªæ¨¡å—ç»„åˆè€Œæˆ, ç”¨äºä»£ç åˆå¹¶ä¸åˆ†å‰²ã€‚

### Loader

loader è®© webpack èƒ½å¤Ÿå»å¤„ç†é‚£äº›é JavaScript æ–‡ä»¶ï¼ˆwebpack è‡ªèº«åªç†è§£ JavaScriptï¼‰ã€‚

loader å¯ä»¥å°†æ‰€æœ‰ç±»å‹çš„æ–‡ä»¶è½¬æ¢ä¸º webpack èƒ½å¤Ÿå¤„ç†çš„æœ‰æ•ˆæ¨¡å—, ç„¶åä½ å°±å¯ä»¥åˆ©ç”¨ webpack çš„æ‰“åŒ…èƒ½åŠ›, å¯¹å®ƒä»¬è¿›è¡Œå¤„ç†ã€‚

æœ¬è´¨ä¸Š, webpack loader å°†æ‰€æœ‰ç±»å‹çš„æ–‡ä»¶, è½¬æ¢ä¸ºåº”ç”¨ç¨‹åºçš„ä¾èµ–å›¾ï¼ˆå’Œæœ€ç»ˆçš„ bundleï¼‰å¯ä»¥ç›´æ¥å¼•ç”¨çš„æ¨¡å—ã€‚

### Plugin

loader è¢«ç”¨äºè½¬æ¢æŸäº›ç±»å‹çš„æ¨¡å—, è€Œæ’ä»¶åˆ™å¯ä»¥ç”¨äºæ‰§è¡ŒèŒƒå›´æ›´å¹¿çš„ä»»åŠ¡ã€‚

æ’ä»¶çš„èŒƒå›´åŒ…æ‹¬, ä»æ‰“åŒ…ä¼˜åŒ–å’Œå‹ç¼©, ä¸€ç›´åˆ°é‡æ–°å®šä¹‰ç¯å¢ƒä¸­çš„å˜é‡ã€‚æ’ä»¶æ¥å£åŠŸèƒ½æå…¶å¼ºå¤§, å¯ä»¥ç”¨æ¥å¤„ç†å„ç§å„æ ·çš„ä»»åŠ¡ã€‚

webpack æ„å»ºæµç¨‹
------------

Webpack çš„è¿è¡Œæµç¨‹æ˜¯ä¸€ä¸ªä¸²è¡Œçš„è¿‡ç¨‹, ä»å¯åŠ¨åˆ°ç»“æŸä¼šä¾æ¬¡æ‰§è¡Œä»¥ä¸‹æµç¨‹ :

1.  åˆå§‹åŒ–å‚æ•°ï¼šä»é…ç½®æ–‡ä»¶å’Œ Shell è¯­å¥ä¸­è¯»å–ä¸åˆå¹¶å‚æ•°, å¾—å‡ºæœ€ç»ˆçš„å‚æ•°ã€‚
    
2.  å¼€å§‹ç¼–è¯‘ï¼šç”¨ä¸Šä¸€æ­¥å¾—åˆ°çš„å‚æ•°åˆå§‹åŒ– Compiler å¯¹è±¡, åŠ è½½æ‰€æœ‰é…ç½®çš„æ’ä»¶, æ‰§è¡Œå¯¹è±¡çš„ run æ–¹æ³•å¼€å§‹æ‰§è¡Œç¼–è¯‘ã€‚
    
3.  ç¡®å®šå…¥å£ï¼šæ ¹æ®é…ç½®ä¸­çš„ entry æ‰¾å‡ºæ‰€æœ‰çš„å…¥å£æ–‡ä»¶ã€‚
    
4.  ç¼–è¯‘æ¨¡å—ï¼šä»å…¥å£æ–‡ä»¶å‡ºå‘, è°ƒç”¨æ‰€æœ‰é…ç½®çš„ Loader å¯¹æ¨¡å—è¿›è¡Œç¿»è¯‘, å†æ‰¾å‡ºè¯¥æ¨¡å—ä¾èµ–çš„æ¨¡å—, å†é€’å½’æœ¬æ­¥éª¤ç›´åˆ°æ‰€æœ‰å…¥å£ä¾èµ–çš„æ–‡ä»¶éƒ½ç»è¿‡äº†æœ¬æ­¥éª¤çš„å¤„ç†ã€‚
    
5.  å®Œæˆæ¨¡å—ç¼–è¯‘ï¼šåœ¨ç»è¿‡ç¬¬ 4 æ­¥ä½¿ç”¨ Loader ç¿»è¯‘å®Œæ‰€æœ‰æ¨¡å—å, å¾—åˆ°äº†æ¯ä¸ªæ¨¡å—è¢«ç¿»è¯‘åçš„æœ€ç»ˆå†…å®¹ä»¥åŠå®ƒä»¬ä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚
    
6.  è¾“å‡ºèµ„æºï¼šæ ¹æ®å…¥å£å’Œæ¨¡å—ä¹‹é—´çš„ä¾èµ–å…³ç³», ç»„è£…æˆä¸€ä¸ªä¸ªåŒ…å«å¤šä¸ªæ¨¡å—çš„ Chunk, å†æŠŠæ¯ä¸ª Chunk è½¬æ¢æˆä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶åŠ å…¥åˆ°è¾“å‡ºåˆ—è¡¨, è¿™æ­¥æ˜¯å¯ä»¥ä¿®æ”¹è¾“å‡ºå†…å®¹çš„æœ€åæœºä¼šã€‚
    
7.  è¾“å‡ºå®Œæˆï¼šåœ¨ç¡®å®šå¥½è¾“å‡ºå†…å®¹å, æ ¹æ®é…ç½®ç¡®å®šè¾“å‡ºçš„è·¯å¾„å’Œæ–‡ä»¶å, æŠŠæ–‡ä»¶å†…å®¹å†™å…¥åˆ°æ–‡ä»¶ç³»ç»Ÿã€‚
    

åœ¨ä»¥ä¸Šè¿‡ç¨‹ä¸­, Webpack ä¼šåœ¨ç‰¹å®šçš„æ—¶é—´ç‚¹å¹¿æ’­å‡ºç‰¹å®šçš„äº‹ä»¶, æ’ä»¶åœ¨ç›‘å¬åˆ°æ„Ÿå…´è¶£çš„äº‹ä»¶åä¼šæ‰§è¡Œç‰¹å®šçš„é€»è¾‘, å¹¶ä¸”æ’ä»¶å¯ä»¥è°ƒç”¨ Webpack æä¾›çš„ API æ”¹å˜ Webpack çš„è¿è¡Œç»“æœã€‚

å®è·µåŠ æ·±ç†è§£, æ’¸ä¸€ä¸ªç®€æ˜“ webpack
---------------------

### 1. å®šä¹‰ Compiler ç±»

```
classÂ CompilerÂ {Â Â constructor(options)Â {Â Â Â Â //Â webpackÂ é…ç½®Â Â Â Â constÂ {Â entry,Â outputÂ }Â =Â optionsÂ Â Â Â //Â å…¥å£Â Â Â Â this.entryÂ =Â entryÂ Â Â Â //Â å‡ºå£Â Â Â Â this.outputÂ =Â outputÂ Â Â Â //Â æ¨¡å—Â Â Â Â this.modulesÂ =Â []Â Â }Â Â //Â æ„å»ºå¯åŠ¨Â Â run()Â {}Â Â //Â é‡å†™Â requireå‡½æ•°,è¾“å‡ºbundleÂ Â generate()Â {}}
```

### 2. è§£æå…¥å£æ–‡ä»¶, è·å– AST

æˆ‘ä»¬è¿™é‡Œä½¿ç”¨ @babel/parser, è¿™æ˜¯ babel7 çš„å·¥å…·, æ¥å¸®åŠ©æˆ‘ä»¬åˆ†æå†…éƒ¨çš„è¯­æ³•, åŒ…æ‹¬ es6, è¿”å›ä¸€ä¸ª AST æŠ½è±¡è¯­æ³•æ ‘ã€‚

```
//Â webpack.config.jsconstÂ pathÂ =Â require('path')module.exportsÂ =Â {Â Â entry:Â './src/index.js',Â Â output:Â {Â Â Â Â path:Â path.resolve(__dirname,Â './dist'),Â Â Â Â filename:Â 'main.js'Â Â }}//
```

```
constÂ fsÂ =Â require('fs')constÂ parserÂ =Â require('@babel/parser')constÂ optionsÂ =Â require('./webpack.config')constÂ ParserÂ =Â {Â Â getAst:Â pathÂ =>Â {Â Â Â Â //Â è¯»å–å…¥å£æ–‡ä»¶Â Â Â Â constÂ contentÂ =Â fs.readFileSync(path,Â 'utf-8')Â Â Â Â //Â å°†æ–‡ä»¶å†…å®¹è½¬ä¸ºASTæŠ½è±¡è¯­æ³•æ ‘Â Â Â Â returnÂ parser.parse(content,Â {Â Â Â Â Â Â sourceType:Â 'module'Â Â Â Â })Â Â }}classÂ CompilerÂ {Â Â constructor(options)Â {Â Â Â Â //Â webpackÂ é…ç½®Â Â Â Â constÂ {Â entry,Â outputÂ }Â =Â optionsÂ Â Â Â //Â å…¥å£Â Â Â Â this.entryÂ =Â entryÂ Â Â Â //Â å‡ºå£Â Â Â Â this.outputÂ =Â outputÂ Â Â Â //Â æ¨¡å—Â Â Â Â this.modulesÂ =Â []Â Â }Â Â //Â æ„å»ºå¯åŠ¨Â Â run()Â {Â Â Â Â constÂ astÂ =Â Parser.getAst(this.entry)Â Â }Â Â //Â é‡å†™Â requireå‡½æ•°,è¾“å‡ºbundleÂ Â generate()Â {}}newÂ Compiler(options).run()
```

### 3. æ‰¾å‡ºæ‰€æœ‰ä¾èµ–æ¨¡å—

Babel æä¾›äº† @babel/traverse(éå†) æ–¹æ³•ç»´æŠ¤è¿™ AST æ ‘çš„æ•´ä½“çŠ¶æ€, æˆ‘ä»¬è¿™é‡Œä½¿ç”¨å®ƒæ¥å¸®æˆ‘ä»¬æ‰¾å‡ºä¾èµ–æ¨¡å—ã€‚

```
constÂ fsÂ =Â require('fs')constÂ pathÂ =Â require('path')constÂ optionsÂ =Â require('./webpack.config')constÂ parserÂ =Â require('@babel/parser')constÂ traverseÂ =Â require('@babel/traverse').defaultconstÂ ParserÂ =Â {Â Â getAst:Â pathÂ =>Â {Â Â Â Â //Â è¯»å–å…¥å£æ–‡ä»¶Â Â Â Â constÂ contentÂ =Â fs.readFileSync(path,Â 'utf-8')Â Â Â Â //Â å°†æ–‡ä»¶å†…å®¹è½¬ä¸ºASTæŠ½è±¡è¯­æ³•æ ‘Â Â Â Â returnÂ parser.parse(content,Â {Â Â Â Â Â Â sourceType:Â 'module'Â Â Â Â })Â Â },Â Â getDependecies:Â (ast,Â filename)Â =>Â {Â Â Â Â constÂ dependeciesÂ =Â {}Â Â Â Â //Â éå†æ‰€æœ‰çš„Â importÂ æ¨¡å—,å­˜å…¥dependeciesÂ Â Â Â traverse(ast,Â {Â Â Â Â Â Â //Â ç±»å‹ä¸ºÂ ImportDeclarationÂ çš„Â ASTÂ èŠ‚ç‚¹Â (å³ä¸ºimportÂ è¯­å¥)Â Â Â Â Â Â ImportDeclaration({Â nodeÂ })Â {Â Â Â Â Â Â Â Â constÂ dirnameÂ =Â path.dirname(filename)Â Â Â Â Â Â Â Â //Â ä¿å­˜ä¾èµ–æ¨¡å—è·¯å¾„,ä¹‹åç”Ÿæˆä¾èµ–å…³ç³»å›¾éœ€è¦ç”¨åˆ°Â Â Â Â Â Â Â Â constÂ filepathÂ =Â './'Â +Â path.join(dirname,Â node.source.value)Â Â Â Â Â Â Â Â dependecies[node.source.value]Â =Â filepathÂ Â Â Â Â Â }Â Â Â Â })Â Â Â Â returnÂ dependeciesÂ Â }}classÂ CompilerÂ {Â Â constructor(options)Â {Â Â Â Â //Â webpackÂ é…ç½®Â Â Â Â constÂ {Â entry,Â outputÂ }Â =Â optionsÂ Â Â Â //Â å…¥å£Â Â Â Â this.entryÂ =Â entryÂ Â Â Â //Â å‡ºå£Â Â Â Â this.outputÂ =Â outputÂ Â Â Â //Â æ¨¡å—Â Â Â Â this.modulesÂ =Â []Â Â }Â Â //Â æ„å»ºå¯åŠ¨Â Â run()Â {Â Â Â Â constÂ {Â getAst,Â getDependeciesÂ }Â =Â ParserÂ Â Â Â constÂ astÂ =Â getAst(this.entry)Â Â Â Â constÂ dependeciesÂ =Â getDependecies(ast,Â this.entry)Â Â }Â Â //Â é‡å†™Â requireå‡½æ•°,è¾“å‡ºbundleÂ Â generate()Â {}}newÂ Compiler(options).run()
```

### 4. AST è½¬æ¢ä¸º code

å°† AST è¯­æ³•æ ‘è½¬æ¢ä¸ºæµè§ˆå™¨å¯æ‰§è¡Œä»£ç , æˆ‘ä»¬è¿™é‡Œä½¿ç”¨ @babel/core å’Œ @babel/preset-envã€‚

```
constÂ fsÂ =Â require('fs')constÂ pathÂ =Â require('path')constÂ optionsÂ =Â require('./webpack.config')constÂ parserÂ =Â require('@babel/parser')constÂ traverseÂ =Â require('@babel/traverse').defaultconstÂ {Â transformFromAstÂ }Â =Â require('@babel/core')constÂ ParserÂ =Â {Â Â getAst:Â pathÂ =>Â {Â Â Â Â //Â è¯»å–å…¥å£æ–‡ä»¶Â Â Â Â constÂ contentÂ =Â fs.readFileSync(path,Â 'utf-8')Â Â Â Â //Â å°†æ–‡ä»¶å†…å®¹è½¬ä¸ºASTæŠ½è±¡è¯­æ³•æ ‘Â Â Â Â returnÂ parser.parse(content,Â {Â Â Â Â Â Â sourceType:Â 'module'Â Â Â Â })Â Â },Â Â getDependecies:Â (ast,Â filename)Â =>Â {Â Â Â Â constÂ dependeciesÂ =Â {}Â Â Â Â //Â éå†æ‰€æœ‰çš„Â importÂ æ¨¡å—,å­˜å…¥dependeciesÂ Â Â Â traverse(ast,Â {Â Â Â Â Â Â //Â ç±»å‹ä¸ºÂ ImportDeclarationÂ çš„Â ASTÂ èŠ‚ç‚¹Â (å³ä¸ºimportÂ è¯­å¥)Â Â Â Â Â Â ImportDeclaration({Â nodeÂ })Â {Â Â Â Â Â Â Â Â constÂ dirnameÂ =Â path.dirname(filename)Â Â Â Â Â Â Â Â //Â ä¿å­˜ä¾èµ–æ¨¡å—è·¯å¾„,ä¹‹åç”Ÿæˆä¾èµ–å…³ç³»å›¾éœ€è¦ç”¨åˆ°Â Â Â Â Â Â Â Â constÂ filepathÂ =Â './'Â +Â path.join(dirname,Â node.source.value)Â Â Â Â Â Â Â Â dependecies[node.source.value]Â =Â filepathÂ Â Â Â Â Â }Â Â Â Â })Â Â Â Â returnÂ dependeciesÂ Â },Â Â getCode:Â astÂ =>Â {Â Â Â Â //Â ASTè½¬æ¢ä¸ºcodeÂ Â Â Â constÂ {Â codeÂ }Â =Â transformFromAst(ast,Â null,Â {Â Â Â Â Â Â presets:Â ['@babel/preset-env']Â Â Â Â })Â Â Â Â returnÂ codeÂ Â }}classÂ CompilerÂ {Â Â constructor(options)Â {Â Â Â Â //Â webpackÂ é…ç½®Â Â Â Â constÂ {Â entry,Â outputÂ }Â =Â optionsÂ Â Â Â //Â å…¥å£Â Â Â Â this.entryÂ =Â entryÂ Â Â Â //Â å‡ºå£Â Â Â Â this.outputÂ =Â outputÂ Â Â Â //Â æ¨¡å—Â Â Â Â this.modulesÂ =Â []Â Â }Â Â //Â æ„å»ºå¯åŠ¨Â Â run()Â {Â Â Â Â constÂ {Â getAst,Â getDependecies,Â getCodeÂ }Â =Â ParserÂ Â Â Â constÂ astÂ =Â getAst(this.entry)Â Â Â Â constÂ dependeciesÂ =Â getDependecies(ast,Â this.entry)Â Â Â Â constÂ codeÂ =Â getCode(ast)Â Â }Â Â //Â é‡å†™Â requireå‡½æ•°,è¾“å‡ºbundleÂ Â generate()Â {}}newÂ Compiler(options).run()
```

### 5. é€’å½’è§£ææ‰€æœ‰ä¾èµ–é¡¹, ç”Ÿæˆä¾èµ–å…³ç³»å›¾

```
constÂ fsÂ =Â require('fs')constÂ pathÂ =Â require('path')constÂ optionsÂ =Â require('./webpack.config')constÂ parserÂ =Â require('@babel/parser')constÂ traverseÂ =Â require('@babel/traverse').defaultconstÂ {Â transformFromAstÂ }Â =Â require('@babel/core')constÂ ParserÂ =Â {Â Â getAst:Â pathÂ =>Â {Â Â Â Â //Â è¯»å–å…¥å£æ–‡ä»¶Â Â Â Â constÂ contentÂ =Â fs.readFileSync(path,Â 'utf-8')Â Â Â Â //Â å°†æ–‡ä»¶å†…å®¹è½¬ä¸ºASTæŠ½è±¡è¯­æ³•æ ‘Â Â Â Â returnÂ parser.parse(content,Â {Â Â Â Â Â Â sourceType:Â 'module'Â Â Â Â })Â Â },Â Â getDependecies:Â (ast,Â filename)Â =>Â {Â Â Â Â constÂ dependeciesÂ =Â {}Â Â Â Â //Â éå†æ‰€æœ‰çš„Â importÂ æ¨¡å—,å­˜å…¥dependeciesÂ Â Â Â traverse(ast,Â {Â Â Â Â Â Â //Â ç±»å‹ä¸ºÂ ImportDeclarationÂ çš„Â ASTÂ èŠ‚ç‚¹Â (å³ä¸ºimportÂ è¯­å¥)Â Â Â Â Â Â ImportDeclaration({Â nodeÂ })Â {Â Â Â Â Â Â Â Â constÂ dirnameÂ =Â path.dirname(filename)Â Â Â Â Â Â Â Â //Â ä¿å­˜ä¾èµ–æ¨¡å—è·¯å¾„,ä¹‹åç”Ÿæˆä¾èµ–å…³ç³»å›¾éœ€è¦ç”¨åˆ°Â Â Â Â Â Â Â Â constÂ filepathÂ =Â './'Â +Â path.join(dirname,Â node.source.value)Â Â Â Â Â Â Â Â dependecies[node.source.value]Â =Â filepathÂ Â Â Â Â Â }Â Â Â Â })Â Â Â Â returnÂ dependeciesÂ Â },Â Â getCode:Â astÂ =>Â {Â Â Â Â //Â ASTè½¬æ¢ä¸ºcodeÂ Â Â Â constÂ {Â codeÂ }Â =Â transformFromAst(ast,Â null,Â {Â Â Â Â Â Â presets:Â ['@babel/preset-env']Â Â Â Â })Â Â Â Â returnÂ codeÂ Â }}classÂ CompilerÂ {Â Â constructor(options)Â {Â Â Â Â //Â webpackÂ é…ç½®Â Â Â Â constÂ {Â entry,Â outputÂ }Â =Â optionsÂ Â Â Â //Â å…¥å£Â Â Â Â this.entryÂ =Â entryÂ Â Â Â //Â å‡ºå£Â Â Â Â this.outputÂ =Â outputÂ Â Â Â //Â æ¨¡å—Â Â Â Â this.modulesÂ =Â []Â Â }Â Â //Â æ„å»ºå¯åŠ¨Â Â run()Â {Â Â Â Â //Â è§£æå…¥å£æ–‡ä»¶Â Â Â Â constÂ infoÂ =Â this.build(this.entry)Â Â Â Â this.modules.push(info)Â Â Â Â this.modules.forEach(({Â dependeciesÂ })Â =>Â {Â Â Â Â Â Â //Â åˆ¤æ–­æœ‰ä¾èµ–å¯¹è±¡,é€’å½’è§£ææ‰€æœ‰ä¾èµ–é¡¹Â Â Â Â Â Â ifÂ (dependecies)Â {Â Â Â Â Â Â Â Â forÂ (constÂ dependencyÂ inÂ dependecies)Â {Â Â Â Â Â Â Â Â Â Â this.modules.push(this.build(dependecies[dependency]))Â Â Â Â Â Â Â Â }Â Â Â Â Â Â }Â Â Â Â })Â Â Â Â //Â ç”Ÿæˆä¾èµ–å…³ç³»å›¾Â Â Â Â constÂ dependencyGraphÂ =Â this.modules.reduce(Â Â Â Â Â Â (graph,Â item)Â =>Â ({Â Â Â Â Â Â Â Â ...graph,Â Â Â Â Â Â Â Â //Â ä½¿ç”¨æ–‡ä»¶è·¯å¾„ä½œä¸ºæ¯ä¸ªæ¨¡å—çš„å”¯ä¸€æ ‡è¯†ç¬¦,ä¿å­˜å¯¹åº”æ¨¡å—çš„ä¾èµ–å¯¹è±¡å’Œæ–‡ä»¶å†…å®¹Â Â Â Â Â Â Â Â [item.filename]:Â {Â Â Â Â Â Â Â Â Â Â dependecies:Â item.dependecies,Â Â Â Â Â Â Â Â Â Â code:Â item.codeÂ Â Â Â Â Â Â Â }Â Â Â Â Â Â }),Â Â Â Â Â Â {}Â Â Â Â )Â Â }Â Â build(filename)Â {Â Â Â Â constÂ {Â getAst,Â getDependecies,Â getCodeÂ }Â =Â ParserÂ Â Â Â constÂ astÂ =Â getAst(filename)Â Â Â Â constÂ dependeciesÂ =Â getDependecies(ast,Â filename)Â Â Â Â constÂ codeÂ =Â getCode(ast)Â Â Â Â returnÂ {Â Â Â Â Â Â //Â æ–‡ä»¶è·¯å¾„,å¯ä»¥ä½œä¸ºæ¯ä¸ªæ¨¡å—çš„å”¯ä¸€æ ‡è¯†ç¬¦Â Â Â Â Â Â filename,Â Â Â Â Â Â //Â ä¾èµ–å¯¹è±¡,ä¿å­˜ç€ä¾èµ–æ¨¡å—è·¯å¾„Â Â Â Â Â Â dependecies,Â Â Â Â Â Â //Â æ–‡ä»¶å†…å®¹Â Â Â Â Â Â codeÂ Â Â Â }Â Â }Â Â //Â é‡å†™Â requireå‡½æ•°,è¾“å‡ºbundleÂ Â generate()Â {}}newÂ Compiler(options).run()
```

### 6. é‡å†™ require å‡½æ•°, è¾“å‡º bundle

```
constÂ fsÂ =Â require('fs')constÂ pathÂ =Â require('path')constÂ optionsÂ =Â require('./webpack.config')constÂ parserÂ =Â require('@babel/parser')constÂ traverseÂ =Â require('@babel/traverse').defaultconstÂ {Â transformFromAstÂ }Â =Â require('@babel/core')constÂ ParserÂ =Â {Â Â getAst:Â pathÂ =>Â {Â Â Â Â //Â è¯»å–å…¥å£æ–‡ä»¶Â Â Â Â constÂ contentÂ =Â fs.readFileSync(path,Â 'utf-8')Â Â Â Â //Â å°†æ–‡ä»¶å†…å®¹è½¬ä¸ºASTæŠ½è±¡è¯­æ³•æ ‘Â Â Â Â returnÂ parser.parse(content,Â {Â Â Â Â Â Â sourceType:Â 'module'Â Â Â Â })Â Â },Â Â getDependecies:Â (ast,Â filename)Â =>Â {Â Â Â Â constÂ dependeciesÂ =Â {}Â Â Â Â //Â éå†æ‰€æœ‰çš„Â importÂ æ¨¡å—,å­˜å…¥dependeciesÂ Â Â Â traverse(ast,Â {Â Â Â Â Â Â //Â ç±»å‹ä¸ºÂ ImportDeclarationÂ çš„Â ASTÂ èŠ‚ç‚¹Â (å³ä¸ºimportÂ è¯­å¥)Â Â Â Â Â Â ImportDeclaration({Â nodeÂ })Â {Â Â Â Â Â Â Â Â constÂ dirnameÂ =Â path.dirname(filename)Â Â Â Â Â Â Â Â //Â ä¿å­˜ä¾èµ–æ¨¡å—è·¯å¾„,ä¹‹åç”Ÿæˆä¾èµ–å…³ç³»å›¾éœ€è¦ç”¨åˆ°Â Â Â Â Â Â Â Â constÂ filepathÂ =Â './'Â +Â path.join(dirname,Â node.source.value)Â Â Â Â Â Â Â Â dependecies[node.source.value]Â =Â filepathÂ Â Â Â Â Â }Â Â Â Â })Â Â Â Â returnÂ dependeciesÂ Â },Â Â getCode:Â astÂ =>Â {Â Â Â Â //Â ASTè½¬æ¢ä¸ºcodeÂ Â Â Â constÂ {Â codeÂ }Â =Â transformFromAst(ast,Â null,Â {Â Â Â Â Â Â presets:Â ['@babel/preset-env']Â Â Â Â })Â Â Â Â returnÂ codeÂ Â }}classÂ CompilerÂ {Â Â constructor(options)Â {Â Â Â Â //Â webpackÂ é…ç½®Â Â Â Â constÂ {Â entry,Â outputÂ }Â =Â optionsÂ Â Â Â //Â å…¥å£Â Â Â Â this.entryÂ =Â entryÂ Â Â Â //Â å‡ºå£Â Â Â Â this.outputÂ =Â outputÂ Â Â Â //Â æ¨¡å—Â Â Â Â this.modulesÂ =Â []Â Â }Â Â //Â æ„å»ºå¯åŠ¨Â Â run()Â {Â Â Â Â //Â è§£æå…¥å£æ–‡ä»¶Â Â Â Â constÂ infoÂ =Â this.build(this.entry)Â Â Â Â this.modules.push(info)Â Â Â Â this.modules.forEach(({Â dependeciesÂ })Â =>Â {Â Â Â Â Â Â //Â åˆ¤æ–­æœ‰ä¾èµ–å¯¹è±¡,é€’å½’è§£ææ‰€æœ‰ä¾èµ–é¡¹Â Â Â Â Â Â ifÂ (dependecies)Â {Â Â Â Â Â Â Â Â forÂ (constÂ dependencyÂ inÂ dependecies)Â {Â Â Â Â Â Â Â Â Â Â this.modules.push(this.build(dependecies[dependency]))Â Â Â Â Â Â Â Â }Â Â Â Â Â Â }Â Â Â Â })Â Â Â Â //Â ç”Ÿæˆä¾èµ–å…³ç³»å›¾Â Â Â Â constÂ dependencyGraphÂ =Â this.modules.reduce(Â Â Â Â Â Â (graph,Â item)Â =>Â ({Â Â Â Â Â Â Â Â ...graph,Â Â Â Â Â Â Â Â //Â ä½¿ç”¨æ–‡ä»¶è·¯å¾„ä½œä¸ºæ¯ä¸ªæ¨¡å—çš„å”¯ä¸€æ ‡è¯†ç¬¦,ä¿å­˜å¯¹åº”æ¨¡å—çš„ä¾èµ–å¯¹è±¡å’Œæ–‡ä»¶å†…å®¹Â Â Â Â Â Â Â Â [item.filename]:Â {Â Â Â Â Â Â Â Â Â Â dependecies:Â item.dependecies,Â Â Â Â Â Â Â Â Â Â code:Â item.codeÂ Â Â Â Â Â Â Â }Â Â Â Â Â Â }),Â Â Â Â Â Â {}Â Â Â Â )Â Â Â Â this.generate(dependencyGraph)Â Â }Â Â build(filename)Â {Â Â Â Â constÂ {Â getAst,Â getDependecies,Â getCodeÂ }Â =Â ParserÂ Â Â Â constÂ astÂ =Â getAst(filename)Â Â Â Â constÂ dependeciesÂ =Â getDependecies(ast,Â filename)Â Â Â Â constÂ codeÂ =Â getCode(ast)Â Â Â Â returnÂ {Â Â Â Â Â Â //Â æ–‡ä»¶è·¯å¾„,å¯ä»¥ä½œä¸ºæ¯ä¸ªæ¨¡å—çš„å”¯ä¸€æ ‡è¯†ç¬¦Â Â Â Â Â Â filename,Â Â Â Â Â Â //Â ä¾èµ–å¯¹è±¡,ä¿å­˜ç€ä¾èµ–æ¨¡å—è·¯å¾„Â Â Â Â Â Â dependecies,Â Â Â Â Â Â //Â æ–‡ä»¶å†…å®¹Â Â Â Â Â Â codeÂ Â Â Â }Â Â }Â Â //Â é‡å†™Â requireå‡½æ•°Â (æµè§ˆå™¨ä¸èƒ½è¯†åˆ«commonjsè¯­æ³•),è¾“å‡ºbundleÂ Â generate(code)Â {Â Â Â Â //Â è¾“å‡ºæ–‡ä»¶è·¯å¾„Â Â Â Â constÂ filePathÂ =Â path.join(this.output.path,Â this.output.filename)Â Â Â Â //Â æ‡µé€¼äº†å—?Â æ²¡äº‹,ä¸‹ä¸€èŠ‚æˆ‘ä»¬æ‹ä¸€æ‹Â Â Â Â constÂ bundleÂ =Â `(function(graph){Â Â Â Â Â Â functionÂ require(module){Â Â Â Â Â Â Â Â functionÂ localRequire(relativePath){Â Â Â Â Â Â Â Â Â Â returnÂ require(graph[module].dependecies[relativePath])Â Â Â Â Â Â Â Â }Â Â Â Â Â Â Â Â varÂ exportsÂ =Â {};Â Â Â Â Â Â Â Â (function(require,exports,code){Â Â Â Â Â Â Â Â Â Â eval(code)Â Â Â Â Â Â Â Â })(localRequire,exports,graph[module].code);Â Â Â Â Â Â Â Â returnÂ exports;Â Â Â Â Â Â }Â Â Â Â Â Â require('${this.entry}')Â Â Â Â })(${JSON.stringify(code)})`Â Â Â Â //Â æŠŠæ–‡ä»¶å†…å®¹å†™å…¥åˆ°æ–‡ä»¶ç³»ç»ŸÂ Â Â Â fs.writeFileSync(filePath,Â bundle,Â 'utf-8')Â Â }}newÂ Compiler(options).run()
```

### 7. çœ‹å®Œè¿™èŠ‚, å½»åº•ææ‡‚ bundle å®ç°

æˆ‘ä»¬é€šè¿‡ä¸‹é¢çš„ä¾‹å­æ¥è¿›è¡Œè®²è§£, å…ˆæ­»äº¡å‡è§† 30 ç§’

```
;(function(graph)Â {Â Â functionÂ require(moduleId)Â {Â Â Â Â functionÂ localRequire(relativePath)Â {Â Â Â Â Â Â returnÂ require(graph[moduleId].dependecies[relativePath])Â Â Â Â }Â Â Â Â varÂ exportsÂ =Â {}Â Â Â Â ;(function(require,Â exports,Â code)Â {Â Â Â Â Â Â eval(code)Â Â Â Â })(localRequire,Â exports,Â graph[moduleId].code)Â Â Â Â returnÂ exportsÂ Â }Â Â require('./src/index.js')})({Â Â './src/index.js':Â {Â Â Â Â dependecies:Â {Â './hello.js':Â './src/hello.js'Â },Â Â Â Â code:Â '"useÂ strict";\n\nvarÂ _helloÂ =Â require("./hello.js");\n\ndocument.write((0,Â _hello.say)("webpack"));'Â Â },Â Â './src/hello.js':Â {Â Â Â Â dependecies:Â {},Â Â Â Â code:Â Â Â Â Â Â '"useÂ strict";\n\nObject.defineProperty(exports,Â "__esModule",Â {\nÂ Â value:Â true\n});\nexports.sayÂ =Â say;\n\nfunctionÂ say(name)Â {\nÂ Â returnÂ "helloÂ ".concat(name);\n}'Â Â }})
```

#### step 1 : ä»å…¥å£æ–‡ä»¶å¼€å§‹æ‰§è¡Œ

```
//Â å®šä¹‰ä¸€ä¸ªç«‹å³æ‰§è¡Œå‡½æ•°,ä¼ å…¥ç”Ÿæˆçš„ä¾èµ–å…³ç³»å›¾;(function(graph)Â {Â Â //Â é‡å†™requireå‡½æ•°Â Â functionÂ require(moduleId)Â {Â Â Â Â console.log(moduleId)Â //Â ./src/index.jsÂ Â }Â Â //Â ä»å…¥å£æ–‡ä»¶å¼€å§‹æ‰§è¡ŒÂ Â require('./src/index.js')})({Â Â './src/index.js':Â {Â Â Â Â dependecies:Â {Â './hello.js':Â './src/hello.js'Â },Â Â Â Â code:Â '"useÂ strict";\n\nvarÂ _helloÂ =Â require("./hello.js");\n\ndocument.write((0,Â _hello.say)("webpack"));'Â Â },Â Â './src/hello.js':Â {Â Â Â Â dependecies:Â {},Â Â Â Â code:Â Â Â Â Â Â '"useÂ strict";\n\nObject.defineProperty(exports,Â "__esModule",Â {\nÂ Â value:Â true\n});\nexports.sayÂ =Â say;\n\nfunctionÂ say(name)Â {\nÂ Â returnÂ "helloÂ ".concat(name);\n}'Â Â }})
```

#### step 2 : ä½¿ç”¨ eval æ‰§è¡Œä»£ç 

```
//Â å®šä¹‰ä¸€ä¸ªç«‹å³æ‰§è¡Œå‡½æ•°,ä¼ å…¥ç”Ÿæˆçš„ä¾èµ–å…³ç³»å›¾;(function(graph)Â {Â Â //Â é‡å†™requireå‡½æ•°Â Â functionÂ require(moduleId)Â {Â Â Â Â ;(function(code)Â {Â Â Â Â Â Â console.log(code)Â //Â "useÂ strict";\n\nvarÂ _helloÂ =Â require("./hello.js");\n\ndocument.write((0,Â _hello.say)("webpack"));Â Â Â Â Â Â eval(code)Â //Â UncaughtÂ TypeError:Â CannotÂ readÂ propertyÂ 'code'Â ofÂ undefinedÂ Â Â Â })(graph[moduleId].code)Â Â }Â Â //Â ä»å…¥å£æ–‡ä»¶å¼€å§‹æ‰§è¡ŒÂ Â require('./src/index.js')})({Â Â './src/index.js':Â {Â Â Â Â dependecies:Â {Â './hello.js':Â './src/hello.js'Â },Â Â Â Â code:Â '"useÂ strict";\n\nvarÂ _helloÂ =Â require("./hello.js");\n\ndocument.write((0,Â _hello.say)("webpack"));'Â Â },Â Â './src/hello.js':Â {Â Â Â Â dependecies:Â {},Â Â Â Â code:Â Â Â Â Â Â '"useÂ strict";\n\nObject.defineProperty(exports,Â "__esModule",Â {\nÂ Â value:Â true\n});\nexports.sayÂ =Â say;\n\nfunctionÂ say(name)Â {\nÂ Â returnÂ "helloÂ ".concat(name);\n}'Â Â }})
```

å¯ä»¥çœ‹åˆ°, æˆ‘ä»¬åœ¨æ‰§è¡Œ "./src/index.js" æ–‡ä»¶ä»£ç çš„æ—¶å€™æŠ¥é”™äº†, è¿™æ˜¯å› ä¸º index.js é‡Œå¼•ç”¨ä¾èµ– hello.js, è€Œæˆ‘ä»¬æ²¡æœ‰å¯¹ä¾èµ–è¿›è¡Œå¤„ç†, æ¥ä¸‹æ¥æˆ‘ä»¬å¯¹ä¾èµ–å¼•ç”¨è¿›è¡Œå¤„ç†ã€‚

#### step 3 : ä¾èµ–å¯¹è±¡å¯»å€æ˜ å°„, è·å– exports å¯¹è±¡

```
//Â å®šä¹‰ä¸€ä¸ªç«‹å³æ‰§è¡Œå‡½æ•°,ä¼ å…¥ç”Ÿæˆçš„ä¾èµ–å…³ç³»å›¾;(function(graph)Â {Â Â //Â é‡å†™requireå‡½æ•°Â Â functionÂ require(moduleId)Â {Â Â Â Â //Â æ‰¾åˆ°å¯¹åº”moduleIdçš„ä¾èµ–å¯¹è±¡,è°ƒç”¨requireå‡½æ•°,evalæ‰§è¡Œ,æ‹¿åˆ°exportså¯¹è±¡Â Â Â Â functionÂ localRequire(relativePath)Â {Â Â Â Â Â Â returnÂ require(graph[moduleId].dependecies[relativePath])Â //Â {__esModule:Â true,Â say:Â Æ’Â say(name)}Â Â Â Â }Â Â Â Â //Â å®šä¹‰exportså¯¹è±¡Â Â Â Â varÂ exportsÂ =Â {}Â Â Â Â ;(function(require,Â exports,Â code)Â {Â Â Â Â Â Â //Â commonjsè¯­æ³•ä½¿ç”¨module.exportsæš´éœ²å®ç°,æˆ‘ä»¬ä¼ å…¥çš„exportså¯¹è±¡ä¼šæ•è·ä¾èµ–å¯¹è±¡(hello.js)æš´éœ²çš„å®ç°(exports.sayÂ =Â say)å¹¶å†™å…¥Â Â Â Â Â Â eval(code)Â Â Â Â })(localRequire,Â exports,Â graph[moduleId].code)Â Â Â Â //Â æš´éœ²exportså¯¹è±¡,å³æš´éœ²ä¾èµ–å¯¹è±¡å¯¹åº”çš„å®ç°Â Â Â Â returnÂ exportsÂ Â }Â Â //Â ä»å…¥å£æ–‡ä»¶å¼€å§‹æ‰§è¡ŒÂ Â require('./src/index.js')})({Â Â './src/index.js':Â {Â Â Â Â dependecies:Â {Â './hello.js':Â './src/hello.js'Â },Â Â Â Â code:Â '"useÂ strict";\n\nvarÂ _helloÂ =Â require("./hello.js");\n\ndocument.write((0,Â _hello.say)("webpack"));'Â Â },Â Â './src/hello.js':Â {Â Â Â Â dependecies:Â {},Â Â Â Â code:Â Â Â Â Â Â '"useÂ strict";\n\nObject.defineProperty(exports,Â "__esModule",Â {\nÂ Â value:Â true\n});\nexports.sayÂ =Â say;\n\nfunctionÂ say(name)Â {\nÂ Â returnÂ "helloÂ ".concat(name);\n}'Â Â }})
```

è¿™ä¸‹åº”è¯¥æ˜ç™½äº†å§ ~ å¯ä»¥ç›´æ¥å¤åˆ¶ä¸Šé¢ä»£ç åˆ°æ§åˆ¶å°è¾“å‡ºå“¦~

[å®Œæ•´ä»£ç åœ°å€æˆ³æˆ‘ ğŸ‘ˆ](https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fwebfansplz%2Farticle%2Ftree%2Fmaster%2Feasy-webpack "https://github.com/webfansplz/article/tree/master/easy-webpack")

æ€»ç»“
--

> Webpack æ˜¯ä¸€ä¸ªåºå¤§çš„ Node.js åº”ç”¨, å¦‚æœä½ é˜…è¯»è¿‡å®ƒçš„æºç , ä½ ä¼šå‘ç°å®ç°ä¸€ä¸ªå®Œæ•´çš„ Webpack éœ€è¦ç¼–å†™éå¸¸å¤šçš„ä»£ç ã€‚ ä½†ä½ æ— éœ€äº†è§£æ‰€æœ‰çš„ç»†èŠ‚, åªéœ€äº†è§£å…¶æ•´ä½“æ¶æ„å’Œéƒ¨åˆ†ç»†èŠ‚å³å¯ã€‚
> 
> å¯¹ Webpack çš„ä½¿ç”¨è€…æ¥è¯´, å®ƒæ˜¯ä¸€ä¸ªç®€å•å¼ºå¤§çš„å·¥å…·ï¼› å¯¹ Webpack çš„å¼€å‘è€…æ¥è¯´, å®ƒæ˜¯ä¸€ä¸ªæ‰©å±•æ€§çš„é«˜ç³»ç»Ÿã€‚
> 
> Webpack ä¹‹æ‰€ä»¥èƒ½æˆåŠŸ, åœ¨äºå®ƒæŠŠå¤æ‚çš„å®ç°éšè—äº†èµ·æ¥, ç»™ç”¨æˆ·æš´éœ²å‡ºçš„åªæ˜¯ä¸€ä¸ªç®€å•çš„å·¥å…·, è®©ç”¨æˆ·èƒ½å¿«é€Ÿè¾¾æˆç›®çš„ã€‚ åŒæ—¶æ•´ä½“æ¶æ„è®¾è®¡åˆç†, æ‰©å±•æ€§é«˜, å¼€å‘æ‰©å±•éš¾åº¦ä¸é«˜, é€šè¿‡ç¤¾åŒºè¡¥è¶³äº†å¤§é‡ç¼ºå¤±çš„åŠŸèƒ½, è®© Webpack å‡ ä¹èƒ½èƒœä»»ä»»ä½•åœºæ™¯ã€‚

å‚è€ƒ
--

[webpack ä¸­æ–‡æ–‡æ¡£](https://link.juejin.cn?target=https%3A%2F%2Fwww.webpackjs.com%2F "https://www.webpackjs.com/")

[æ·±å…¥æµ…å‡º webpack](https://link.juejin.cn?target=https%3A%2F%2Fwebpack.wuhaolin.cn%2F "https://webpack.wuhaolin.cn/")

åè®°
--

> å¦‚æœä½ å’Œæˆ‘ä¸€æ ·å–œæ¬¢å‰ç«¯, ä¹Ÿçˆ±åŠ¨æ‰‹æŠ˜è…¾, æ¬¢è¿å…³æ³¨æˆ‘ä¸€èµ·ç©è€å•Šï½ â¤ï¸

[github åœ°å€, æ¬¢è¿ follow å“¦ï½](https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fwebfansplz "https://github.com/webfansplz")

### åšå®¢

[æˆ‘çš„åšå®¢, ç‚¹ star, ä¸è¿·è·¯ï½](https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fwebfansplz%2Farticle "https://github.com/webfansplz/article")

### å…¬ä¼—å·

å‰ç«¯æ—¶åˆ»

![](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2020/1/7/16f7edf9422a5afe~tplv-t2oaga2asx-jj-mark:3024:0:0:0:q75.png)å‰ç«¯æ—¶åˆ»