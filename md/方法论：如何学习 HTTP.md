> æœ¬æ–‡ç”± [ç®€æ‚¦ SimpRead](http://ksria.com/simpread/) è½¬ç ï¼Œ åŸæ–‡åœ°å€ [juejin.cn](https://juejin.cn/post/7046195769681903630)

å‰è¨€
--

ä¹‹æ‰€ä»¥ä¼šå†™è¿™ä¹ˆä¸€ç¯‡æ–‡ç« ï¼Œæ˜¯å› ä¸ºæˆ‘ä¹‹å‰å¯¹ HTTP æ²¡æœ‰ä¸€ä¸ªæ•´ä½“çš„è®¤è¯†ã€‚å·¥ä½œ 3 å¹´æ¥ï¼Œæ—¶æ—¶åˆ»åˆ»éƒ½åœ¨ä½¿ç”¨ HTTP åè®®ï¼Œä¹Ÿæ›¾å†™è¿‡å‡ ç¯‡å…³äº HTTP çš„æŸäº›ç»†èŠ‚çš„ä»‹ç»å’Œç”¨æ³•ã€‚ä½†æ¯å½“æœ‰äººé—®èµ·ä»€ä¹ˆæ˜¯ HTTP çš„æ—¶å€™ï¼Œæ€»æ˜¯å¡ä½ä¸çŸ¥é“è¯´äº›ä»€ä¹ˆã€‚æ€»ä¸èƒ½è¯´è¿™ä¹ˆå¤šå¹´å¯¹ HTTP çš„ä½¿ç”¨å°±æ˜¯è°ƒåº“å§ï¼ˆä¸æ˜¯ğŸ¤ï¼‰ã€‚

å‘ç”Ÿè¿™ç§æƒ…å†µä¸€èˆ¬æ˜¯å› ä¸ºæˆ‘ä»¬å­¦ HTTP æ—¶çš„ç”¨äº†ä¸€ä¸ªä½æ•ˆçš„æ–¹æ³•è®ºâ€”â€”çŸ¥è¯†ç¡¬å•ƒã€‚æœ‰å¤šå°‘äººåƒæˆ‘ä¸€æ ·æ‰“ç®—é€šè¿‡ã€ŠHTTP æƒå¨æŒ‡å—ã€‹æ¥å­¦ä¹  HTTP çš„çŸ¥è¯†ï¼Œæˆ–è€…ç›´æ¥é˜…è¯» RFC2616ï¼ˆæˆ‘ç›´å‘¼å¤§ç¥ï¼‰ã€‚ç»“æœæ˜¯æ— åŠŸè€Œè¿”ï¼Œçœ‹å®Œç­‰äºæ²¡çœ‹ï¼Œæˆ–è€…æ ¹æœ¬çœ‹ä¸ä¸‹å»ï¼Œå› ä¸ºçŸ¥è¯†çœŸçš„å¤ªæ¯ç‡¥äº†ï¼

æœ‰ä¸€ç§ç›¸å¯¹é«˜æ•ˆçš„æ–¹æ³•è®º -**WHAT-HOW-WHY**ã€‚

å½“é¢å¯¹ä¸€ä¸ªæ–°çš„çŸ¥è¯†ç‚¹ï¼Œå¦‚æœä¸Šæ¥ç›´æ¥è®²åŸç†ï¼Œå¤§æ¦‚å¤šæ•°äººéƒ½ä¼šæ‡µé€¼

ä½†å¦‚æœä»è¡¨è±¡å‡ºå‘ï¼š

*   What - å…ˆäº†è§£è¿™ä¸ªä¸œè¥¿æ˜¯ä»€ä¹ˆï¼Ÿ
*   How - å†äº†è§£è¿™ä¸ªä¸œè¥¿å®ƒæ˜¯æ€ä¹ˆä½¿ç”¨çš„ï¼Ÿ
*   Why - æœ€åå†å»äº†è§£è¿™ä¸ªä¸œè¥¿çš„åŸç†å’Œä¸ºä»€ä¹ˆå®ç°æˆè¿™ä¸ªæ ·å­çš„ã€‚

é‚£ä¹ˆè¿™ä¸ªå­¦ä¹ è¿‡ç¨‹å°±ä¸ä¼šå¤ªè¿‡æ¯ç‡¥ï¼Œå¤šæé—® whyï¼Œå†å»ä¸»åŠ¨æœç´¢èµ„æ–™è§£ç­”ã€‚è¿™ç§å°†è¢«åŠ¨æ­»è®°ç¡¬èƒŒè½¬æ¢æˆä¸»åŠ¨å­¦ä¹ æ–¹å¼æ›´èƒ½é•¿æ—¶é—´çš„ä¿å­˜è®°å¿†ã€‚

å¤§å®¶æˆ–å¤šæˆ–å°‘çš„çŸ¥é“ç‚¹ HTTP æ¦‚å¿µå’Œæ€ä¹ˆä½¿ç”¨ HTTPï¼ˆè°ƒåº“ğŸ¤­ï¼‰ï¼Œæ‰€ä»¥æœ¬æ–‡é€‰æ‹© WHY çš„è§’åº¦æ¥è®² HTTPï¼Œå¸Œæœ›èƒ½å¸®åŠ©åˆ°å¤§å®¶ã€‚

WHY-HTTP çš„å½¢æˆ
------------

åœ¨å­¦ä¹  HTTP çš„è¿‡ç¨‹ä¸­ï¼Œæˆ–è€…æ›´å¹¿æ³›çš„åº”ç”¨åˆ°å­¦ä¹ å…¶ä»–è®¡ç®—æœºæŠ€æœ¯æ—¶ï¼Œè¯·è®°ä½è¿™å¥è¯ï¼š**form follows function**ï¼  
åŠŸèƒ½å†³å®šå½¢å¼ã€‚å½“ä½ ç–‘æƒ‘ HTTP ä¸ºä»€ä¹ˆè¦è®¾è®¡æˆè¿™æ ·çš„æ—¶å€™ï¼Œä½ å°±å¾—å»äº†è§£ HTTP æ˜¯è¦è§£å†³ä»€ä¹ˆé—®é¢˜ã€‚

è¯´èµ· HTTP å°±ä¸å¾—ä¸æèµ·å®ƒçš„ä¸»è¦ä½œè€…ï¼šRoy Fielding ä»¥åŠä»–çš„é‚£ç¯‡å¤§åé¼é¼çš„è®ºæ–‡[ã€ŠArchitectural Styles and the Design of Network-based Software Architecturesã€‹](https://link.juejin.cn?target=https%3A%2F%2Fwww.ics.uci.edu%2F~fielding%2Fpubs%2Fdissertation%2Frest_arch_style.htm "https://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm")

Roy Fielding åœ¨è¿™ç¯‡è®ºæ–‡ä¸­çš„æåˆ° HTTP åˆ›å»ºçš„åŸå› :

> Berners-Lee writes that the "Web's major goal was to be a shared information space through which **people** and **machines** could communicate."

Berners-Lee è€çˆ·å­å°±æ˜¯ world-wide-web ä¸‡ç»´ç½‘çš„åˆ›å§‹äººï¼Œä»–è¯´åˆ°ä¸‡ç»´ç½‘çš„ä¸»è¦ç›®çš„æ˜¯äººå’Œæœºå™¨èƒ½å¤Ÿäº¤æµä»¥åŠåˆ†äº«ä¿¡æ¯ç©ºé—´ã€‚é‡ç‚¹æ˜¯äººå’Œæœºå™¨ï¼

ç»“åˆ rfc2616 ä¸­æåˆ°ï¼š

> HTTP is the foundation of data communication for theÂ World Wide Web

ä¹Ÿå°±æ˜¯è¯´ HTTP æ˜¯ä¸ºäº†äººå’Œæœºå™¨èƒ½å¤Ÿäº¤æµä»¥åŠåˆ†äº«ä¿¡æ¯è¿™ä¸ªä¸‡ç»´ç½‘ä¸»è¦ç›®çš„è€Œå®ç°çš„è¿™ä¹ˆä¸€ç§åè®®ã€‚è¿™å°±èƒ½è¯´æ˜å¾ˆå¤šé—®é¢˜ï¼š

*   ä¸çŸ¥é“å¤§å®¶æœ‰æ²¡æœ‰æƒ³è¿‡ï¼Œä¸ºä»€ä¹ˆ HTTP åè®®æŠ¥æ–‡æ˜¯ç”¨ ASCII ç ç¼–å†™çš„ï¼Œè€Œå…¶ä»–åè®®æŠ¥æ–‡æ˜¯äºŒè¿›åˆ¶æ ¼å¼ï¼ˆæ¯”å¦‚ TCPã€IP åè®®ï¼‰ã€‚å°±æ˜¯å› ä¸ºè¦æœåŠ¡äºäººï¼Œè¦ä¾¿äºäººå»é˜…è¯»ã€‚
*   ä¸ºä»€ä¹ˆè„šæœ¬ï¼Œæ ·å¼è¿è¡Œåœ¨å®¢æˆ·ç«¯ï¼Ÿå› ä¸ºä¾¿äºäººæ“ä½œå’Œäººçœ‹èµ·æ¥ç¾è§‚ã€‚

### å®ç°ä¸‡ç»´ç½‘å¿…é¡»é¢å¯¹çš„é—®é¢˜

å®ç°ä¸‡ç»´ç½‘ï¼Œweb æ¶æ„å¿…é¡»é¢å¯¹ä»¥ä¸‹é—®é¢˜ã€‚Roy Fielding åœ¨è®ºæ–‡ä¸­æåˆ°ï¼š  
(1) **ä½é—¨æ§›**ï¼šä¸‡ç»´ç½‘çš„ç”¨æˆ·ä¸ä»…ä»…æ˜¯è®¡ç®—æœºä»ä¸šäººå‘˜ï¼Œè¿˜æ˜¯ä½¿ç”¨æµè§ˆå™¨è®¿é—®ç½‘ç«™çš„æ™®ç½—å¤§ä¼—ï¼Œæ‰€ä»¥è¦ç®€å•å’Œé€šç”¨ï¼Œè¿™ä¹Ÿæ˜¯é€‰æ‹© Hypertext çš„ä¸»è¦åŸå› ã€‚

(2) **å¯æ‰©å±•æ€§**ï¼šè™½ç„¶ç®€å•æ€§ä½¿å¾—éƒ¨ç½²åˆ†å¸ƒå¼ç³»ç»Ÿçš„åˆå§‹å®ç°æˆä¸ºå¯èƒ½ï¼Œä½†å¯æ‰©å±•æ€§èƒ½å¤Ÿé¿å…æ°¸è¿œé™·å…¥éƒ¨ç½²çš„é™åˆ¶ã€‚ å³ä½¿å¯ä»¥æ„å»ºä¸€ä¸ªå®Œå…¨ç¬¦åˆç”¨æˆ·éœ€æ±‚çš„è½¯ä»¶ç³»ç»Ÿï¼Œè¿™äº›éœ€æ±‚ä¹Ÿä¼šéšç€æ—¶é—´çš„æ¨ç§»è€Œå˜åŒ–ï¼Œä¸€ä¸ªæƒ³è¦åƒ Web ä¸€æ ·é•¿æœŸå­˜åœ¨çš„ç³»ç»Ÿå¿…é¡»å‡†å¤‡å¥½æ¥å—å˜åŒ–ã€‚

(3) **åˆ†å¸ƒå¼ç³»ç»Ÿä¸‹çš„è¶…åª’ä½“**ï¼šåˆ†å¸ƒå¼è¶…åª’ä½“å…è®¸å°†æ¼”ç¤ºå’Œæ§åˆ¶ä¿¡æ¯å­˜å‚¨åœ¨è¿œç¨‹æœåŠ¡å™¨ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œåˆ†å¸ƒå¼è¶…åª’ä½“ç³»ç»Ÿä¸­çš„ç”¨æˆ·æ“ä½œéœ€è¦å°†å¤§é‡æ•°æ®ä»æ•°æ®å­˜å‚¨ä½ç½®ä¼ è¾“åˆ°å®¢æˆ·ç«¯ã€‚å› æ­¤ï¼Œå¿…é¡»ä¸ºå¤§ç²’åº¦æ•°æ®ä¼ è¾“è®¾è®¡ Web æ¶æ„ã€‚

(4) **äº’è”ç½‘è§„æ¨¡**ï¼šä¸‡ç»´ç½‘æ—¨åœ¨æˆä¸ºä¸€ä¸ªäº’è”ç½‘è§„æ¨¡çš„åˆ†å¸ƒå¼è¶…åª’ä½“ç³»ç»Ÿï¼Œè¿™æ„å‘³ç€ä¸ä»…ä»…æ˜¯åœ°ç†ä¸Šçš„åˆ†æ•£ã€‚äº’è”ç½‘æ˜¯å…³äºè·¨è¶Šå¤šä¸ªç»„ç»‡è¾¹ç•Œçš„äº’è¿ä¿¡æ¯ç½‘ç»œã€‚ä¿¡æ¯æœåŠ¡ä¾›åº”å•†å¿…é¡»èƒ½å¤Ÿåº”å¯¹ Anarchic å¯æ‰©å±•æ€§å’Œè½¯ä»¶ç»„ä»¶ç‹¬ç«‹éƒ¨ç½²çš„éœ€æ±‚ã€‚

*   Anarchic å¯æ‰©å±•æ€§ï¼šAnarchic æ˜¯æ— ç§©åºï¼Œæ— æ”¿åºœçš„æ„æ€ã€‚å¤§å¤šæ•°è½¯ä»¶ç³»ç»Ÿçš„å»ºç«‹éƒ½æœ‰ä¸€ä¸ªéšå«çš„å‡è®¾ï¼Œå°±æ˜¯æ•´ä¸ªç³»ç»Ÿéƒ½åœ¨ä¸€ä¸ªå®ä½“çš„æ§åˆ¶ä¹‹ä¸‹ã€‚ä½†å½“ä¸€ä¸ªç³»ç»Ÿåœ¨äº’è”ç½‘ä¸Šå…¬å¼€è¿è¡Œæ—¶ï¼Œä¸èƒ½åšå‡ºè¿™ä¸ªå‡è®¾ã€‚Anarchic å¯æ‰©å±•æ€§æ˜¯æŒ‡å½“ç»™å®šæ ¼å¼é”™è¯¯æˆ–è€…æ¶æ„æ„é€ çš„æ•°æ®æ—¶ï¼Œéœ€è¦ç»§ç»­è¿è¡Œæ¶æ„ï¼Œå› ä¸ºå®ƒä»¬å¯èƒ½ä¸ç»„ç»‡ / æ”¿åºœæ§åˆ¶ä¹‹å¤–çš„å…ƒç´ è¿›è¡Œé€šä¿¡ã€‚å¤šä¸ªç»„ç»‡è¾¹ç•Œæ„å‘³ç€åœ¨ä»»ä½•é€šè®¯éƒ½å¯èƒ½å­˜åœ¨å¤šä¸ªä¿¡ä»»è¾¹ç•Œã€‚åº”ç”¨åœ¨äº¤äº’ä¸­åº”è¯¥å‡è®¾æ”¶åˆ°çš„ä»»ä½•ä¿¡æ¯éƒ½æ˜¯ä¸å¯ä¿¡çš„ï¼Œæˆ–è€…åœ¨ç»™ä¸ä¿¡ä»»ä¹‹å‰éœ€è¦ä¸€äº›é¢å¤–çš„èº«ä»½éªŒè¯ã€‚
    
    _HTTP æä¾›äº†è®¤è¯æœºåˆ¶ï¼šåŸºæœ¬è®¤è¯æœºåˆ¶ä¸æ‘˜è¦è®¤è¯æœºåˆ¶_
    
*   ç‹¬ç«‹éƒ¨ç½²ï¼šå¤šä¸ªç»„ç»‡è¾¹ç•Œè¿˜æ„å‘³ç€ç³»ç»Ÿå¿…é¡»ä¸ºæ¸è¿›å’Œç¢ç‰‡åŒ–çš„å˜åŒ–åšå¥½å‡†å¤‡ï¼Œåœ¨è¿™ä¸ªå˜åŒ–ä¸­éœ€è¦æ–°æ—§ç³»ç»Ÿå®ç°å…±å­˜ã€‚
    
*   å‘å‰å…¼å®¹ï¼šè‡ª 1993 å¹´ä½¿ç”¨ HTTP/0.9ï¼Œ 1996 å¹´ä½¿ç”¨ HTTP/1.0ã€‚åç»­ç‰ˆæœ¬éœ€è¦å…¼å®¹å‰é¢çš„ç‰ˆæœ¬ã€‚
    
    _HTTP è¢«è®¾è®¡ç”±ä¸»è¦å’Œæ¬¡è¦ç‰ˆæœ¬å·åŒºåˆ†ï¼ŒæœåŠ¡å™¨å¿…é¡»éµå®ˆå¯¹åŒ…å«åœ¨æ¯ä¸ªæ¶ˆæ¯ä¸­çš„ HTTP ç‰ˆæœ¬åè®®çš„çº¦æŸã€‚ç»Ÿä¸€ç”± http:// è¿›è¡Œè®¿é—®ã€‚_  
    _ä½¿ç”¨ Upgrade å¤´éƒ¨å…¼å®¹ HTTP2 å’Œ WebSocket åè®®_
    

### REST æ¶æ„é£æ ¼

Roy Fielding æå‡ºäº†ä¸€ç§ REST æ¶æ„é£æ ¼è¯•å›¾è§£å†³ä¸Šè¿°é—®é¢˜ã€‚

REST å…¨ç§°ï¼š**Representtational State Transfer**ï¼Œç¿»è¯‘æˆä¸­æ–‡å°±æ˜¯è¡¨è¿°æ€§çŠ¶æ€è½¬ç§»ã€‚Roy Fielding æå‡ºçš„ä¸€ç»„æ¶æ„çº¦æŸæ¡ä»¶å’ŒåŸåˆ™ï¼Œä»»ä½•æ»¡è¶³ REST çº¦æŸæ¡ä»¶å’ŒåŸåˆ™çš„æ¶æ„ï¼Œéƒ½ç§°ä¸º RESTful æ¶æ„ã€‚

é¦–å…ˆä»è¡¨è¿°å’ŒçŠ¶æ€è½¬ç§»è¿™ä¸¤ä¸ªå…³é”®è¯å»ç†è§£ REST

*   è¡¨è¿° RESTful æ¶æ„æ˜¯åŸºäºèµ„æºçš„æ¶æ„ï¼Œèµ„æºçš„å«ä¹‰æ˜¯å¹¿æ³›ï¼šä»»ä½•å¯ä»¥å‘½åçš„ä¿¡æ¯éƒ½å¯ä»¥æ˜¯èµ„æºã€‚æ¯”å¦‚æ–‡æ¡£ã€å›¾åƒã€æ—¶é—´æœåŠ¡ç­‰ï¼Œèµ„æºæ˜¯åˆ°ä¸€ç»„å®ä½“çš„æ¦‚å¿µæ˜ å°„ã€‚

æ‰€ä»¥è¡¨è¿°æŒ‡çš„æ˜¯èµ„æºçš„æŸç§å½¢å¼çš„è¡¨ç¤ºï¼Œé€šå¸¸æ˜¯æŸä¸ªå…·ä½“çš„ URIã€‚([æœ‰å…³ URI çš„çŸ¥è¯†å¯çœ‹æˆ‘çš„è¿™ç¯‡æ–‡ç« ](https://juejin.cn/post/6844904167920631822 "https://juejin.cn/post/6844904167920631822"))

é‚£ä¹ˆæ€æ ·æ‰ç®—æ˜¯ä¸€ä¸ª REST é£æ ¼çš„ URI å‘¢ï¼Ÿé‡ç‚¹æ˜¯**åè¯**ã€‚

```
http://example.com/tickets/1111
http://example.com/orders/2021/12/25
```

åº”è¯¥è®©è°ƒç”¨è€…å¾ˆå®¹æ˜“åœ°æ¨æµ‹å‡º URI çš„å«ä¹‰ï¼Œå®ƒä»¬æ˜æ˜¾åœ°æ ‡è¯†ç€å•ä¸€çš„èµ„æºã€‚

```
http://example.com/tickets
http://example.com/orders/2021
```

ä½†è¯·è§‚å¯Ÿè¿™ä¸¤ä¸ª URI ä¸ä¸Šé¢çš„åŒºåˆ«ã€‚å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸¤ä¸ª URI å¹¶ä¸æ˜¯å¯¹æŸä¸ªå•ä¸€äº‹ç‰©çš„æ ‡è¯†ï¼Œè€Œæ˜¯å¯¹ä¸€ç±»äº‹ç‰©é›†åˆçš„æ ‡è¯†ï¼ˆå‡å¦‚ç¬¬ä¸€ä¸ª URI è¡¨ç¤ºæ‰€æœ‰çš„é—¨ç¥¨ï¼Œç¬¬äºŒä¸ªåˆ™æ˜¯å¯¹ 2021 å¹´çš„æ‰€æœ‰è®¢å•ï¼‰ã€‚è¿™äº›é›†åˆæœ¬èº«ä¹Ÿæ˜¯èµ„æºï¼Œä¹Ÿåº”è¯¥è¢«æ ‡è¯†ã€‚

å¯ä»¥çœ‹åˆ°æ— è®ºæ˜¯ tickets è¿˜æ˜¯ orders éƒ½æ˜¯ç”¨**å¤æ•°**çš„å½¢å¼å»æ ‡è¯†èµ„æºï¼Œè¿™æ˜¯åˆé€‚çš„ã€‚å°½ç®¡è¯­æ–‡è€å¸ˆå¯èƒ½åå¯¹ç”¨å¤æ•°è¡¨ç¤ºå•ä¸ªèµ„æºï¼Œä½†ä¸ºäº†ä¿æŒç®€å•å¹¶ä¸”ä¿æŒ URI æ ¼å¼ä¸€è‡´ï¼Œç»Ÿä¸€ä½¿ç”¨å¤æ•°å¥½å¤„å¤šå¤šï¼Œä¹Ÿä¸å¿…å†ä¸ºäº†é€‰æ‹© person è¿˜æ˜¯ people è€Œçƒ¦æ¼ã€‚

_èµ„æºå¯ä»¥æœ‰å¾ˆå¤šç§è¡¨è¿°ï¼Œæ¯”å¦‚ä¸åŒè¯­è¨€çš„ç¿»è¯‘ï¼Œä¸åŒå‹ç¼©æ–¹å¼ç­‰ã€‚HTTP ç”¨å†…å®¹åå•†çš„æ–¹å¼å»è§£å†³è¿™ç§åœºæ™¯ã€‚_

*   çŠ¶æ€è½¬ç§» çŠ¶æ€æŒ‡çš„æ˜¯èµ„æºçŠ¶æ€ã€‚èµ„æºçŠ¶æ€å­˜å‚¨åœ¨æœåŠ¡å™¨ä¸­ï¼Œå®¢æˆ·ç«¯é€šè¿‡ RESTful APIï¼ŒæŒ‡å®šè¯·æ±‚æ–¹æ³•ã€èµ„æºè·¯å¾„å’Œèµ„æºè¡¨è¿°ï¼Œå¯¹èµ„æºçš„çŠ¶æ€è¿›è¡Œ CRUD ä»è€Œæ”¹å˜èµ„æºçš„çŠ¶æ€ï¼Œç§°ä¸ºçŠ¶æ€è½¬ç§»ã€‚

å®šä¹‰å¥½èµ„æºåï¼Œè¿™æ—¶å€™å°±éœ€è¦ç¡®å®šå“ªäº›æ“ä½œé€‚ç”¨äºå®ƒä»¬ä»¥åŠè¿™äº›æ“ä½œå°†å¦‚ä½•æ˜ å°„åˆ° APIã€‚RESTful æä¾›äº†ä½¿ç”¨ HTTP æ–¹æ³•å¤„ç† CRUD æ“ä½œçš„ç­–ç•¥ï¼Œæ¯”å¦‚è¯´ï¼š

```
GET /ticketsÂ - è·å–æ‰€æœ‰çš„é—¨ç¥¨
GET /tickets/12Â - è·å–æŸä¸€å¼ çš„é—¨ç¥¨
POST /ticketsÂ - åˆ›å»ºä¸€å¼ æ–°é—¨ç¥¨
PUT /tickets/12Â - ä¿®æ”¹æŸä¸€å¼ çš„é—¨ç¥¨ä¿¡æ¯
PATCH /tickets/12Â - éƒ¨åˆ†ä¿®æ”¹æŸä¸€å¼ çš„é—¨ç¥¨ä¿¡æ¯
DELETE /tickets/12Â - åˆ é™¤æŸä¸€å¼ é—¨ç¥¨
```

REST çš„ä¼Ÿå¤§ä¹‹å¤„åœ¨äºå¯ä»¥åˆ©ç”¨ç°æœ‰çš„ HTTP æ–¹æ³•åœ¨å•ä¸ª / tickets ç«¯ç‚¹ä¸Šå®ç°é‡è¦çš„åŠŸèƒ½ã€‚æ— éœ€éµå¾ªä»»ä½•æ–¹æ³•å‘½åçº¦å®šï¼ŒURI ç»“æ„å¹²å‡€æ¸…æ™°ã€‚

Roy fielding åœ¨è®ºæ–‡ä¸­ä»ä¸€ä¸ªç©ºæ¶æ„å¼€å§‹ä¸€æ­¥æ­¥åŠ çº¦æŸæ¨å¯¼å‡º REST æ¶æ„é£æ ¼ ![](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/fd78cc82bc104c25880663141450cd13~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?)

#### REST çš„çº¦æŸæ¡ä»¶

REST çš„çº¦æŸæ¡ä»¶æœ‰ï¼š

*   å®¢æˆ·ç«¯ - æœåŠ¡å™¨
*   æ— çŠ¶æ€
*   ç¼“å­˜
*   ç»Ÿä¸€æ¥å£
*   åˆ†å±‚ç³»ç»Ÿ
*   æŒ‰éœ€ä»£ç ï¼ˆå¯é€‰ï¼‰

ï¼ˆ1ï¼‰å®¢æˆ·ç«¯ - æœåŠ¡å™¨  
å®¢æˆ·ç«¯ - æœåŠ¡å™¨æ¨¡å¼èƒ½å¤Ÿå°†ç”¨æˆ·ç•Œé¢é—®é¢˜ä¸æ•°æ®å­˜å‚¨é—®é¢˜åˆ†å¼€ï¼Œæé«˜äº†ç”¨æˆ·ç•Œé¢è·¨å¤šä¸ªå¹³å°çš„å¯ç§»æ¤æ€§ï¼Œå¹¶é€šè¿‡ç®€åŒ–æœåŠ¡å™¨ç»„ä»¶æé«˜äº†å¯æ‰©å±•æ€§ã€‚å¯¹ Web æœ€é‡è¦çš„æ˜¯åˆ†ç¦»å…è®¸ç»„ä»¶ç‹¬ç«‹å‘å±•ï¼Œä»è€Œæ”¯æŒå¤šä¸ªç»„ç»‡åŸŸçš„äº’è”ç½‘è§„æ¨¡éœ€æ±‚ã€‚ ![](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0983ad28953341e0a5dbcac25f7767ee~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?) èµ„æºå­˜å‚¨åœ¨æœåŠ¡å™¨ä¸Šï¼Œå®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€ HTTP è¯·æ±‚ï¼ŒæœåŠ¡å™¨åœ¨ HTTP å“åº”ä¸­è¿”å›æ‰€è¯·æ±‚çš„èµ„æºã€‚æ‰€ä»¥å®¢æˆ·ç«¯ - æœåŠ¡å™¨å…±åŒæ„æˆäº† web çš„åŸºæœ¬ç»„ä»¶ã€‚

ï¼ˆ2ï¼‰æ— çŠ¶æ€  
é€šä¿¡æœ¬è´¨ä¸Šå¿…é¡»æ˜¯æ— çŠ¶æ€çš„ï¼Œä¹Ÿå°±æ˜¯è¯´æŒ‡ä¸¤æ¬¡è¯·æ±‚ä¹‹é—´ä¸å­˜åœ¨ä¾èµ–å…³ç³»ï¼Œè¿™æ ·ä»å®¢æˆ·ç«¯åˆ°æœåŠ¡å™¨å¿…é¡»åŒ…å«è¯·æ±‚çš„æ‰€éœ€çš„æ‰€æœ‰ä¿¡æ¯ï¼Œå¹¶ä¸”ä¸èƒ½åœ¨æœåŠ¡å™¨ä¸Šå­˜å‚¨ä»»ä½•ä¸Šä¸‹æ–‡ã€‚è¿™ç§çº¦æŸå¯¼è‡´äº†å¯è§æ€§ã€å¯é æ€§å’Œå¯ä¼¸ç¼©æ€§å¾—åˆ°äº†æ”¹å–„ã€‚ç¼ºç‚¹å°±æ˜¯åœ¨ä¸€ç³»åˆ—è¯·æ±‚ä¸­å‘é€é‡å¤çš„è¯·æ±‚å¤´ä¿¡æ¯ã€‚

_HTTP ç”¨ cookie æœºåˆ¶è§£å†³äº†è¯†åˆ«ç”¨æˆ·ï¼ŒæŒä¹…ä¼šè¯çš„åœºæ™¯_

ï¼ˆ3ï¼‰ç¼“å­˜  
ç¼“å­˜çº¦æŸæ¡ä»¶ä¸»è¦æ˜¯ç”¨äºæ”¹å–„ç½‘ç»œçš„æ•ˆç‡ã€‚ç¼“å­˜çº¦æŸæ¡ä»¶è¦æ±‚ä¸€ä¸ªè¯·æ±‚çš„å“åº”ä¸­çš„æ•°æ®è¢«éšå¼åœ°æˆ–æ˜¾å¼åœ°æ ‡è®°ä¸ºå¯ç¼“å­˜çš„æˆ–ä¸å¯ç¼“å­˜çš„ã€‚å¦‚æœå“åº”æ˜¯å¯ç¼“å­˜çš„ï¼Œé‚£ä¹ˆå®¢æˆ·ç«¯ç¼“å­˜å°±å¯ä»¥ä¸ºä»¥åçš„ç›¸åŒè¯·æ±‚é‡ç”¨è¿™ä¸ªå“åº”çš„æ•°æ®ï¼Œå‡å°‘äº†ç½‘ç»œäº¤äº’ï¼Œæé«˜äº†æ•ˆç‡ã€å¯ä¼¸ç¼©æ€§å’Œç”¨æˆ·æ„ŸçŸ¥çš„æ€§èƒ½ã€‚

_HTTP ç¼“å­˜åˆ†ä¸ºå…±äº«ç¼“å­˜ä¸ç§æœ‰ç¼“å­˜_

ï¼ˆ4ï¼‰ç»Ÿä¸€æ¥å£  
å°† REST æ¶æ„é£æ ¼ä¸å…¶ä»–åŸºäºæ¶æ„çš„é£æ ¼åŒºåˆ†å¼€æ¥çš„æ ¸å¿ƒç‰¹å¾æ˜¯å®ƒå¼ºè°ƒç»„ä»¶ä¹‹é—´çš„ç»Ÿä¸€æ¥å£ã€‚é€šè¿‡å°†é€šç”¨æ€§çš„è½¯ä»¶å·¥ç¨‹åŸç†åº”ç”¨äºç»„ä»¶æ¥å£ï¼Œç®€åŒ–äº†æ•´ä¸ªç³»ç»Ÿæ¶æ„å¹¶æé«˜äº†äº¤äº’çš„å¯è§æ€§ã€‚å®ç°ä¸å®ƒä»¬æä¾›çš„æœåŠ¡åˆ†ç¦»ï¼Œè¿™é¼“åŠ±äº†ç‹¬ç«‹çš„å¯è¿›åŒ–æ€§ã€‚

ç„¶è€Œï¼Œç»Ÿä¸€æ¥å£çš„ä»£ä»·æ˜¯é™ä½æ•ˆç‡ï¼Œå› ä¸ºä¿¡æ¯æ˜¯ä»¥æ ‡å‡†åŒ–çš„å½¢å¼è€Œä¸æ˜¯ç‰¹å®šäºåº”ç”¨ç¨‹åºéœ€æ±‚çš„å½¢å¼ä¼ è¾“çš„ã€‚RESTful æ¥å£è¢«è®¾è®¡ä¸ºé«˜æ•ˆçš„å¤§ç²’åº¦è¶…åª’ä½“æ•°æ®ä¼ è¾“ï¼Œé’ˆå¯¹ Web çš„å¸¸è§æƒ…å†µè¿›è¡Œä¼˜åŒ–ï¼Œä½†å¯¼è‡´æ¥å£å¯¹äºå…¶ä»–å½¢å¼çš„æ¶æ„äº¤äº’ä¸æ˜¯æœ€ä½³çš„ã€‚

ï¼ˆ5ï¼‰åˆ†å±‚  
åˆ†å±‚ç³»ç»Ÿæ¶æ„çº¦æŸæ¡ä»¶å°†æ¶æ„åˆ†ä¸ºè‹¥å¹²å±‚ï¼Œåˆ’å®šæ¯ä¸€å±‚çš„è¾¹ç•Œï¼Œä»è€Œé™ä½æ¯ä¸€å±‚è®¾è®¡çš„å¤æ‚åº¦ã€‚åŒæ—¶ï¼Œé€šè¿‡åˆ†å±‚ï¼Œå¯ä»¥æŠ½è±¡åº•å±‚çš„å¼‚æ„æ€§ï¼Œç»™ä¸Šå±‚æä¾›ç»Ÿä¸€çš„æ¥å£ï¼Œç®€åŒ–ä¸Šå±‚çš„é€»è¾‘ã€‚

ï¼ˆ6ï¼‰æŒ‰éœ€ä»£ç   
REST å…è®¸é€šè¿‡ä¸‹è½½å’Œæ‰§è¡Œå°ç¨‹åºæˆ–è„šæœ¬å½¢å¼çš„ä»£ç æ¥æ‰©å±•å®¢æˆ·ç«¯åŠŸèƒ½ã€‚è¿™é€šè¿‡å‡å°‘éœ€è¦é¢„å…ˆå®ç°çš„åŠŸèƒ½æ•°é‡æ¥ç®€åŒ–å®¢æˆ·ç«¯ã€‚å…è®¸åœ¨éƒ¨ç½²åä¸‹è½½åŠŸèƒ½æé«˜äº†ç³»ç»Ÿå¯æ‰©å±•æ€§ã€‚ä½†æ˜¯ï¼Œå®ƒä¹Ÿä¼šé™ä½å¯è§æ€§ï¼Œå› æ­¤å®ƒåªæ˜¯ REST ä¸­çš„ä¸€ä¸ªå¯é€‰çº¦æŸã€‚

### åŸºäº TCP åè®®

ä¸–ç•Œä¸Šå‡ ä¹æ‰€æœ‰çš„ HTTP é€šä¿¡éƒ½æ˜¯ç”± TCP æ‰¿è½½çš„ï¼Œå®¢æˆ·ç«¯ app æ‰“å¼€ä¸€æ¡ TCP è¿æ¥ï¼Œè¿æ¥åˆ°å¯èƒ½è¿è¡Œåœ¨ä¸–ç•Œä»»ä½•åœ°æ–¹çš„æœåŠ¡å™¨ app ä¸­ã€‚ä¸€æ—¦è¿æ¥å»ºç«‹ï¼Œåœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨çš„è®¡ç®—æœºä¹‹é—´äº¤æ¢çš„æŠ¥æ–‡å°±æ°¸è¿œä¸ä¼šä¸¢å¤±ã€å—æŸæˆ–æ˜¯å¤±åºã€‚

#### TCP åè®®

HTTP è¿æ¥å®é™…ä¸Šå°±æ˜¯ TCP è¿æ¥å’Œä¸€äº›ä½¿ç”¨è¿æ¥çš„è§„åˆ™ã€‚TCP è¿æ¥æ˜¯å› ç‰¹ç½‘ä¸Šå¯é çš„è¿æ¥ã€‚æƒ³è¦æ­£ç¡®ã€å¿«é€Ÿåœ°å‘é€æ•°æ®ï¼Œå°±éœ€è¦äº†è§£ TCP çš„ä¸€äº›åŸºæœ¬è®¤è¯†ã€‚

TCP æ˜¯ä¸€ä¸ªé¢å‘è¿æ¥ã€å¯é çš„ã€åŸºäºå­—èŠ‚æµçš„ä¼ è¾“å±‚é€šè®¯åè®®ã€‚ä¼ è¾“å±‚åè®®æŒ‡çš„æ˜¯ä¸ºè¿è¡Œåœ¨ä¸åŒä¸»æœºä¸Šåº”ç”¨ç¨‹åºè¿›ç¨‹ä¹‹é—´çš„é€»è¾‘é€šè®¯ã€‚

*   é¢å‘è¿æ¥ï¼š1 å¯¹ 1 æ‰å«é¢å‘è¿æ¥ï¼ˆå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨æœºåˆ¶ï¼‰ï¼Œåœ¨ HTTP æŠ¥æ–‡å¼€å§‹å‘å‡ºå‰ï¼ŒTCP ä¼šå…ˆè®©å®¢æˆ·ä¸æœåŠ¡å™¨ä¹‹é—´äº’ç›¸äº¤æ¢ TCP æ§åˆ¶ä¿¡æ¯ã€‚è¿™ä¸ªæ¡æ‰‹è¿‡ç¨‹æç¤ºå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ï¼Œä½¿å®ƒä»¬ä¸ºå¤§é‡åˆ†ç»„çš„åˆ°æ¥åšå¥½å‡†å¤‡ã€‚åœ¨æ¡æ‰‹é˜¶æ®µåï¼Œä¸€ä¸ª TCP è¿æ¥å°±åœ¨ä¸¤ä¸ªè¿›ç¨‹çš„å¥—æ¥å­—ä¹‹é—´å»ºç«‹èµ·æ¥ã€‚è¿™æ¡è¿æ¥æ˜¯å…¨åŒå·¥çš„ï¼Œå³è¿æ¥åŒæ–¹çš„è¿›ç¨‹å¯ä»¥åœ¨æ­¤è¿æ¥ä¸Šè¿›è¡ŒæŠ¥æ–‡çš„æ”¶å‘ã€‚
    
*   å¯é çš„æ•°æ®ä¼ è¾“ï¼šé€šä¿¡è¿›ç¨‹èƒ½å¤Ÿä¾é  TCPã€æ— é”™è¯¯ã€æŒ‰é€‚å½“é¡ºåºäº¤ä»˜æ‰€æœ‰å‘é€çš„æŠ¥æ–‡ã€‚å½“åº”ç”¨ç¨‹åºçš„ä¸€ç«¯å°†å­—èŠ‚ä¼ è¿›å¥—æ¥å­—æ—¶ï¼Œå®ƒèƒ½å¤Ÿä¾é  TCP å°†ç›¸åŒçš„å­—èŠ‚æµäº¤ä»˜ç»™æ¥æ”¶æ–¹çš„å¥—æ¥å­—ï¼Œè€Œæ²¡æœ‰å­—èŠ‚çš„ä¸¢å¤±å’Œå†—ä½™ã€‚
    
*   åŸºäºå­—èŠ‚æµï¼šæ¶ˆæ¯æ˜¯æ²¡æœ‰è¾¹ç•Œçš„ï¼Œæ‰€ä»¥æ— è®ºå¤šå¤§çš„æ¶ˆæ¯éƒ½èƒ½ä¼ è¾“ã€‚å¹¶ä¸”æ¶ˆæ¯æ˜¯æŒ‰åºçš„ï¼Œå½“å‰ä¸€ä¸ªæŠ¥æ–‡ä¸¢å¤±ï¼Œåç»­çš„æŠ¥æ–‡éƒ½ä¸èƒ½ç”¨ï¼Œåªæœ‰é‡å‘ä¸¢å¤±çš„æŠ¥æ–‡ä¹‹åæ‰èƒ½ç”¨å…ˆå‰æ¥æ”¶åˆ°çš„åç»­æŠ¥æ–‡ã€‚
    

å¯èƒ½å¤§å®¶ä¸€å¼€å§‹çœ‹ HTTP æŠ¥æ–‡æ ¼å¼çš„æ—¶å€™ï¼Œä¸ä¼šæ³¨æ„ï¼ˆä¹Ÿæœ‰å¾ˆå¤šæ–‡ç« ä¸ä¼šæåŠï¼‰**æ¯ä¸€è¡Œéƒ½æœ‰æ˜ç¡®çš„åˆ†æ®µï¼šcrlf** ![](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/20b911442bef4a138c6ff713ddec74f4~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?) è¿™æ˜¯ä¸ºäº†é€‚åº” TCP è€Œè®¾è®¡çš„ã€‚TCP æ˜¯åŸºäºå­—èŠ‚æµï¼Œå½“å¤§æŠ¥æ–‡ä¼ è¿› TCP æ—¶ï¼Œæ ¹æ®æ¡æ‰‹åŒæ–¹è€Œåˆ¶å®šçš„æŠ¥æ–‡æ®µå¤§å°ï¼ˆç§°ä¸º MSSï¼‰ï¼Œä¼šå°†æŠ¥æ–‡åˆ†ä¸ºå¾ˆå¤šæ®µã€‚TCP åªè´Ÿè´£ä¼ è¾“æŠ¥æ–‡æ®µï¼Œè€Œä¸ä¼šåšè¾¹ç•Œå¤„ç†ï¼Œè¿™å°±éœ€è¦ HTTP æ¥åˆ’åˆ†è¾¹ç•Œã€‚é™¤å®ä½“ä¹‹å¤–çš„ HTTP æŠ¥æ–‡è¦ä»¥ crlf åˆ†æ®µå¤„ç†ã€‚

æŠ¥æ–‡çš„å®ä½“ä¸»ä½“ï¼ˆåŒ…ä½“ï¼‰ä¸€æ ·éœ€è¦è¾¹ç•Œå¤„ç†ã€‚HTTP åŒ…ä½“ä¼ è¾“æœ‰ä¸¤ç§æ–¹å¼ï¼š

*   å®šé•¿åŒ…ä½“ï¼Œä½¿ç”¨ Content-Length è¡¨ç¤ºã€‚å½“ Content-Length å°äºå®é™…åŒ…ä½“å­—èŠ‚æ•°ï¼Œæµè§ˆå™¨å°±ä¼šæŠ›å¼ƒåç»­çš„å­—èŠ‚ã€‚å¦‚æœå¤§äºï¼Œåˆ™ä¼šæŠ¥é”™ã€‚
*   ä¸å®šé•¿åŒ…ä½“ï¼Œä½¿ç”¨ Transfer-Encoding æŒ‡æ˜ä½¿ç”¨ chunk ä¼ è¾“ã€‚å°†åŒ…ä½“åˆ†ä¸ºä¸€ä¸ªä¸ª chunk ä¼ è¾“ï¼Œæœ€åä¸€ä¸ª chunk ä½¿ç”¨ last-chunk è¡¨æ˜ï¼Œæœ€åæºå¸¦åŒ…ä½“æ€»é•¿åº¦ã€‚

### å›è¿‡å¤´æ¥

ç”±äºç¯‡å¹…åŸå› ï¼Œè¿˜æ²¡æåˆ°çš„å†…å®¹ç•™ç»™è¯»è€…å»æŒ–æ˜è§£è¯»ã€‚  
è¿™æ—¶å€™å†å›è¿‡å¤´çœ‹ RFC7230 ä¸­ HTTP å®šä¹‰ï¼Œè¿™äº›ä¸ªå½¢å®¹è¯æ˜¯ä¸æ˜¯å°±æ˜¾ç¤ºé€šä¿—æ˜“æ‡‚æ‹‰ï¼Ÿ

> The Hypertext Transfer Protocol (HTTP) is a _stateless_ _application-level_ _request/response_ protocol that uses _extensible semantics_ and _self-descriptive_ message payloads for _flexible_ interaction with network-based _hypertext_ information systems

ç»“å°¾
--

åˆ›ä½œä¸æ˜“ï¼Œçƒ¦è¯·åŠ¨åŠ¨æ‰‹æŒ‡ç‚¹ä¸€ç‚¹èµã€‚

æ›´å¤šæ–‡ç« è¯·ç§»æ­¥[æ¥¼ä¸» github](https://link.juejin.cn?target=https%3A%2F%2Fgithub.com%2Fzhangwinwin%2FFEBlog "https://github.com/zhangwinwin/FEBlog"), å¦‚æœå–œæ¬¢è¯·ç‚¹ä¸€ä¸‹ star, å¯¹ä½œè€…ä¹Ÿæ˜¯ä¸€ç§é¼“åŠ±ã€‚

æœ¬æ–‡å¼•ç”¨ä»¥ä¸‹èµ„æ–™ï¼š

*   [ã€ŠArchitectural Styles and the Design of Network-based Software Architecturesã€‹](https://link.juejin.cn?target=https%3A%2F%2Fwww.ics.uci.edu%2F~fielding%2Fpubs%2Fdissertation%2Frest_arch_style.htm "https://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm")
*   [ã€ŠHTTP æƒå¨æŒ‡å—ã€‹](https://link.juejin.cn?target=https%3A%2F%2Fbook.douban.com%2Fsubject%2F10746113%2F "https://book.douban.com/subject/10746113/")
*   [ã€ŠWeb åè®®è¯¦è§£ä¸æŠ“åŒ…å®æˆ˜ã€‹](https://link.juejin.cn?target=https%3A%2F%2Ftime.geekbang.org%2Fcourse%2Fintro%2F100026801%3Ftab%3Dcatalog "https://time.geekbang.org/course/intro/100026801?tab=catalog")