## 非功能需求
在系统后期设计和实现阶段，非功能性需求指 标需要进 一步细化，系统非功能性需求对于系统架构设计的影响变得越来越重要

非功能需求包括
操作性需求
- 系统完成任务所需的操作环境要求及如何满足系统将来可能的 需求变更的要求
- (可移植性需求、维护性需求, 系统环境和系统集成)
性能需求(速度容量、可信需求)
- 针对系统性能要求的指标
安全性需求
- 防止系统崩溃和保证数据安全
(系统价值需求、访问控制需求、加密/ 认证需求、病毒控制需求)
文化需求 
-  不同用户群体对系统提出
- (多语言需求、 个性化定制需求、规范性 描述需求、法律需求)等。

## Essential Use Cases和Real Use Cases的区别
是按照开发阶段来进行划分的。
Essential Use Cases 是 在 面 向 对 象 分析 阶 段 使 用 的 
RealUseCases是在面向对象设计阶段使用的。
Essential UseCases描述的是用例的本质属性，它与如何实现这个用例无关，独立于 实现该用例的软硬件技术。
Real Use Cases 描述的是用例的实现方式，表达了设计和实现该用例时所采用的方 法和技术。

## 基本消息通信 (BMTS)服务
基本消息通信将复杂软件的通信协议与执行机制分离， 用最少的服务解决计算组件间的传输消息。
具有高可靠、低延迟和微小抖动的特点
支持等 三种 基 本 消 息 传 输方式
- 事件触发消息
-  速 率 约 束 消 息
- 时间触发消息
	- 发送者和接受者遵循 -个精确的时间片周期完成消息的发送与接收

# 数据库相关
## 分布式数据库缓存
分布式数据库缓存指的是在高并发环境下，为了减轻数据库压力和提高系统响应时 问，在数据库系统和应用系统之间增加的独立缓存系统
MemnCache 和Redis

### Redis 分布式存储的两种常见方案
Redi s 为单点方案，使用时必须提供分布式存储的集群拓展能力。
Redis 分布式存储的常见方案有:
1 主从(Master/Slave)模式:
2. 哨兵(Sentinel)模式;
3. 集群(Cluster)模式。

#### 1. 主从（Master/Slave）模式：
主节点（Master）负责处理写操作（插入、更新、删除），并记录这些更改。
从节点（Slave）复制主节点的数据，通常只处理读操作，因此是只读的。
重点示例： 如果您有一个主数据库服务器，它接收并记录新的订单数据（写操作）。同时，多个从服务器负责处理来自客户端的查询请求（读操作）以提高性能。这种模式可以提供高可用性和读取负载均衡。
#### 2. 哨兵（Sentinel）模式：
哨兵节点用于监视主从模式中的节点健康状态。
如果主节点失败，哨兵会选举一个从节点作为新的主节点，确保系统的可用性。
重点示例： 假设您的数据库主节点在高负载时崩溃。哨兵节点会检测到故障并自动将一个从节点提升为新的主节点，确保数据库系统仍然可用。
#### 3. 集群（Cluster）模式：
集群模式是一种分布式系统架构，通常包含多个节点，可以协同工作并分布数据。
数据被分片存储在不同的节点上，客户端可以与任何节点通信。
重点示例： 想象一组Web服务器，它们共同托管一个在线商店的数据。这些服务器可以组成一个集群，其中每个服务器存储商品信息的不同部分。当客户发出请求时，集群会根据商品ID将请求路由到正确的服务器，以提供高性能和可扩展性。

### Red is 集群切片的常见方式
( I)客户端实现分片方式，分区逻辑在客户端实现，采用 一致性哈希来决定Redis 节点。
(2)中间件实现分片方式，即在应用软件和Redis 中间，例如Iwemproxy、Codis 等，由中间件实现服务到后台Redis 节点的路由分派。 
(3)客户端服务端协作分片方式，Redis Cluster 模式，客户端可采用一致性哈希， 服务端提供错误节点的重定向服务。

## Redis和MemCache数据可靠性和一致性
MemCache 无法进行持久化，数据不能备份，只能用于缓存使用，数据全部存在于 内存，一旦重启数据会全部丢失。他没有一致性和可靠性
由于Redis 只作为缓存，因此给出原关系数据库到Redis 的同步方案即可。该方 案 的 基 本 操 作 如 下。
1. 读操作。读缓存Redis，如果数据不存在，从原关系数据库中读数据，并将读取 后的数据值写入到Redi s;
2. 写操作。写原关系数据库，写成功后，更新或者失效掉缓存Redis 中的值。


# W e b 系 统 设 计
## SOA
 面 向 服 务 的 体 系 架 构 (S O A ) 是 一 种 粗 粒 度 、 松 耦 合 服务架构，服务之间通过简单、精确定义接又进行通信
 根据需求通过网络对松 散赮合的粗粒度应用组件进行分布式部署
### SOA 环境中，需要解决的安全问题包括
 CIA AAN
## SOA 中的 UDDI
 UDDI是一种用于服务描述、发现和集成的标准化协议和注册表。它的主要用途是允许组织和开发者发布其网络服务的描述信息，以及让其他人能够查找和访问这些服务。
# 企业服务总线 ESB
企业服务总线 (ESB)是由中间件技术实现的全面支持面向服务架构的基础软件平台， 支持异构环境中的服务以及基于消息和事件驱动模式的交互
异构环境： 可以是不同环境的服务（程序）
![[Pasted image 20231019141202.png]]

