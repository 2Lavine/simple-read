> 本文由 [简悦 SimpRead](http://ksria.com/simpread/) 转码， 原文地址 [juejin.cn](https://juejin.cn/post/7281162206946721829?searchId=2024011609412312EDD0E05BFA1C6769DA)
#### 3、骨架屏优化

```
/* CSS */
@keyframes shimmer {
  0% {
    background-position: -468px 0;
  }
  100% {
    background-position: 468px 0;
  }
}

.skeleton-header, .skeleton-body .skeleton-line {
  animation-duration: 1.25s;
  animation-fill-mode: forwards;
  animation-iteration-count: infinite;
  animation-name: shimmer;
  animation-timing-function: linear;
  background: #f6f7f8;
  background: linear-gradient(to right, #eeeeee 8%, #dddddd 18%, #eeeeee 33%);
  background-size: 800px 104px;
  position: relative;
}
```

以上代码为骨架屏添加了一个流动光影的动画效果，使得骨架屏看起来更有活力。

查看效果： ![](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAJElEQVRoge3BMQEAAADCoPVP7WkJoAAAAAAAAAAAAAAAAAAAbjh8AAFte11jAAAAAElFTkSuQmCC)

基于预渲染的骨架屏
---------
基于预渲染的骨架屏技术通过服务器端渲染（SSR）或静态站点生成（SSG）提前生成页面的骨架，然后在客户端加载时填充内容，从而提高性能和 SEO。
#### 使用 react-loading-skeleton 创建骨架屏

```
import React from 'react';
import Skeleton from 'react-loading-skeleton';

function UserProfile() {
  return (
    <div>
      <h2>User Profile</h2>
      <div class>
        <Skeleton height={100} width={100} circle={true} />
        <div class>
          <Skeleton height={20} width={200} />
          <Skeleton height={20} width={200} />
          <Skeleton height={20} width={200} />
        </div>
      </div>
    </div>
  );
}

export default UserProfile;
```

骨架屏的最佳实践
--------
#### 保持骨架屏与实际内容的一致性
为了确保用户不会感知到内容的 “跳动”，骨架屏的结构和样式应该与最终加载的内容一致。
#### 使用占位符
占位符可以帮助页面保持稳定的布局，防止内容在加载完成前发生大的布局变化。
#### 优化骨架屏的性能
为了提高性能，应该减小骨架屏的大小，并确保它们以最快的速度加载。

