%%begin highlights%%
可升级合约。它就是一个可以更改逻辑合约的代理合约

## 实现可升级合约
它包含3个合约：代理合约，旧的逻辑合约，和新的逻辑合约
这个代理合约比第46讲中的简单。
- 我们没有在它的fallback()函数中使用内联汇编，而仅仅用了implementation.delegatecall(msg.data);。
因此，回调函数没有返回值

旧逻辑合约
这个逻辑合约包含3个状态变量，与保持代理合约一致，防止插槽冲突。
只有一个函数foo()，将代理合约中的words的值改为"old"。

新逻辑合约​
只有一个函数foo()，将代理合约中的words的值改为"new"。
%%end highlights%%

!!!PAGE NOTE!!!
%%begin pagenote%%

%%end pagenote%%

 #五彩插件 [原文](https://www.wtf.academy/solidity-application/Upgrade/)
更新时间: 2023-07-29 19:55