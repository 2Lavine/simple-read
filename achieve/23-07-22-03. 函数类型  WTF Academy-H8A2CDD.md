%%begin highlights%%
Solidityä¸­çš„å‡½æ•°â€‹
æ–¹æ‹¬å·ä¸­çš„æ˜¯å¯å†™å¯ä¸å†™çš„å…³é”®å­—
`function <function name> (<parameter types>) {internal|external|public|private} [pure|view|payable] [returns (<return types>)]`

ä»å‰å¾€åä¸€ä¸ªä¸€ä¸ªçœ‹ï¼š
-  functionï¼šå£°æ˜å‡½æ•°æ—¶çš„å›ºå®šç”¨æ³•ï¼Œæƒ³å†™å‡½æ•°ï¼Œå°±è¦ä»¥functionå…³é”®å­—å¼€å¤´ã€‚
- function nameï¼šå‡½æ•°åã€‚
- (parameter types)ï¼šåœ†æ‹¬å·é‡Œå†™å‡½æ•°çš„å‚æ•°ï¼Œä¹Ÿå°±æ˜¯è¦è¾“å…¥åˆ°å‡½æ•°çš„å˜é‡ç±»å‹å’Œåå­—ã€‚
- {internal|external|public|private}ï¼šå‡½æ•°å¯è§æ€§è¯´æ˜ç¬¦ï¼Œä¸€å…±4ç§ã€‚
	- æ²¡æ ‡æ˜å‡½æ•°ç±»å‹çš„ï¼Œé»˜è®¤internalã€‚
	- public: å†…éƒ¨å¤–éƒ¨å‡å¯è§ã€‚(ä¹Ÿå¯ç”¨äºä¿®é¥°çŠ¶æ€å˜é‡ï¼Œpublicå˜é‡ä¼šè‡ªåŠ¨ç”Ÿæˆ getterå‡½æ•°ï¼Œç”¨äºæŸ¥è¯¢æ•°å€¼).
	- private: åªèƒ½ä»æœ¬åˆçº¦å†…éƒ¨è®¿é—®ï¼Œç»§æ‰¿çš„åˆçº¦ä¹Ÿä¸èƒ½ç”¨ï¼ˆä¹Ÿå¯ç”¨äºä¿®é¥°çŠ¶æ€å˜é‡ï¼‰ã€‚
	- external: åªèƒ½ä»åˆçº¦å¤–éƒ¨è®¿é—®ï¼ˆä½†æ˜¯å¯ä»¥ç”¨this.f()æ¥è°ƒç”¨ï¼Œfæ˜¯å‡½æ•°åï¼‰
	- internal: åªèƒ½ä»åˆçº¦å†…éƒ¨è®¿é—®ï¼Œç»§æ‰¿çš„åˆçº¦å¯ä»¥ç”¨ï¼ˆä¹Ÿå¯ç”¨äºä¿®é¥°çŠ¶æ€å˜é‡ï¼‰ã€‚
- [pure|view|payable]ï¼šå†³å®šå‡½æ•°æƒé™/åŠŸèƒ½çš„å…³é”®å­—ã€‚
	- payableï¼ˆå¯æ”¯ä»˜çš„ï¼‰å¾ˆå¥½ç†è§£ï¼Œå¸¦ç€å®ƒçš„å‡½æ•°ï¼Œè¿è¡Œçš„æ—¶å€™å¯ä»¥ç»™åˆçº¦è½¬å…¥ETHã€‚pureå’Œviewçš„ä»‹ç»è§ä¸‹ä¸€èŠ‚ã€‚
- [returns ()]ï¼šå‡½æ•°è¿”å›çš„å˜é‡ç±»å‹å’Œåç§°ã€‚

## ä»€ä¹ˆæ˜¯Pureå’ŒView

solidityåŠ å…¥è¿™ä¸¤ä¸ªå…³é”®å­—ï¼Œæˆ‘è®¤ä¸ºæ˜¯å› ä¸ºgas fee
åŒ…å«pureè·Ÿviewå…³é”®å­—çš„å‡½æ•°æ˜¯ä¸æ”¹å†™é“¾ä¸ŠçŠ¶æ€çš„ï¼Œå› æ­¤ç”¨æˆ·ç›´æ¥è°ƒç”¨ä»–ä»¬æ˜¯ä¸éœ€è¦ä»˜gasçš„
åœ¨ä»¥å¤ªåŠä¸­ï¼Œä»¥ä¸‹è¯­å¥è¢«è§†ä¸ºä¿®æ”¹é“¾ä¸ŠçŠ¶æ€ï¼š
- å†™å…¥çŠ¶æ€å˜é‡ã€‚
- é‡Šæ”¾äº‹ä»¶ã€‚
- åˆ›å»ºå…¶ä»–åˆçº¦ã€‚
- ä½¿ç”¨selfdestruct.
- é€šè¿‡è°ƒç”¨å‘é€ä»¥å¤ªå¸ã€‚
- è°ƒç”¨ä»»ä½•æœªæ ‡è®°viewæˆ–pureçš„å‡½æ•°ã€‚
- ä½¿ç”¨ä½çº§è°ƒç”¨ï¼ˆlow-level callsï¼‰ã€‚
- ä½¿ç”¨åŒ…å«æŸäº›æ“ä½œç çš„å†…è”æ±‡ç¼–ã€‚

åŒ…å«pureå…³é”®å­—çš„å‡½æ•°ï¼Œä¸èƒ½è¯»å–ä¹Ÿä¸èƒ½å†™å…¥å­˜å‚¨åœ¨é“¾ä¸Šçš„çŠ¶æ€å˜é‡ã€‚å°±åƒå°æ€ªä¸€æ ·ï¼Œçœ‹ä¸åˆ°ä¹Ÿæ‘¸ä¸åˆ°ç¢§æ± å…¬ä¸»ã€‚
viewï¼Œâ€œçœ‹â€ï¼Œåœ¨solidityé‡Œç†è§£ä¸ºâ€œçœ‹å®¢â€ã€‚åŒ…å«viewå…³é”®å­—çš„å‡½æ•°ï¼Œèƒ½è¯»å–ä½†ä¹Ÿä¸èƒ½å†™å…¥çŠ¶æ€å˜é‡ã€‚ç±»ä¼¼é©¬é‡Œå¥¥ï¼Œèƒ½çœ‹åˆ°ç¢§æ± ï¼Œä½†ç»ˆç©¶æ˜¯çœ‹å®¢ï¼Œä¸èƒ½å…¥æ´æˆ¿ã€‚
ä¸å†™pureä¹Ÿä¸å†™viewï¼Œå‡½æ•°æ—¢å¯ä»¥è¯»å–ä¹Ÿå¯ä»¥å†™å…¥çŠ¶æ€å˜é‡ã€‚ç±»ä¼¼é©¬é‡Œå¥¥é‡Œçš„bossï¼Œå¯ä»¥å¯¹ç¢§æ± å…¬ä¸»ä¸ºæ‰€æ¬²ä¸ºğŸ¶ã€‚

## pure v.s. view

// é»˜è®¤
function add() external{
number = number + 1;
}

é‚£pureå‡½æ•°èƒ½åšäº›ä»€ä¹ˆï¼Ÿä¸¾ä¸ªä¾‹å­ï¼Œä½ å¯ä»¥ç»™å‡½æ•°ä¼ é€’ä¸€ä¸ªå‚æ•° _numberï¼Œç„¶åè®©ä»–è¿”å› _number+1ã€‚

// pure: çº¯çº¯ç‰›é©¬
function addPure(uint256 _number) external pure returns(uint256 new_number){
new_number = _number+1;
}

å¦‚æœadd()åŒ…å«viewï¼Œæ¯”å¦‚function add() view externalï¼Œä¹Ÿä¼šæŠ¥é”™ã€‚å› ä¸ºviewèƒ½è¯»å–ï¼Œä½†ä¸èƒ½å¤Ÿæ”¹å†™çŠ¶æ€å˜é‡ã€‚å¯ä»¥ç¨å¾®æ”¹å†™ä¸‹æ–¹ç¨‹ï¼Œè®©ä»–ä¸æ”¹å†™numberï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªæ–°çš„å˜é‡ã€‚
```js
// view: çœ‹å®¢
function addView() external view returns(uint256 new_number) {
	new_number = number + 1;
}
```

## internal v.s. external
```js
// internal: å†…éƒ¨
function minus() internal {
number = number - 1;
}
// åˆçº¦å†…çš„å‡½æ•°å¯ä»¥è°ƒç”¨å†…éƒ¨å‡½æ•°
function minusCall() external {
minus();
}
```

æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªinternalçš„minus()å‡½æ•°ï¼Œæ¯æ¬¡è°ƒç”¨ä½¿å¾—numberå˜é‡å‡1ã€‚
ç”±äºæ˜¯internalï¼Œåªèƒ½ç”±åˆçº¦å†…éƒ¨è°ƒç”¨ï¼Œè€Œå¤–éƒ¨ä¸èƒ½ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¿…é¡»å†å®šä¹‰ä¸€ä¸ªexternalçš„minusCall()å‡½æ•°ï¼Œæ¥é—´æ¥è°ƒç”¨å†…éƒ¨çš„minus()

%%end highlights%%

!!!PAGE NOTE!!!
%%begin pagenote%%

%%end pagenote%%

 #äº”å½©æ’ä»¶ [åŸæ–‡](https://www.wtf.academy/solidity-start/Function/)
æ›´æ–°æ—¶é—´: 2023-07-22 19:47