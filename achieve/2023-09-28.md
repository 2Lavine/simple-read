Dogpile 是一个计算机科学术语，通常用于描述在并发系统中的一种现象。它指的是当一个资源（如数据库查询或网络请求）被多个并发进程或线程同时请求时，所有请求都会等待资源的释放，并在资源可用时同时竞争获取该资源，导致短时间内资源的突然高负载。

Dogpile 现象通常发生在缓存系统中，当缓存中的数据过期时，多个并发请求会同时触发对数据的重新计算或重新加载。这会导致大量请求同时访问后端资源，造成短暂的资源瓶颈和延迟。

解决 Dogpile
---
为了解决 Dogpile 现象，常见的做法是在缓存失效时，只允许一个请求重新计算或重新加载数据，而其他请求则等待已计算的结果。这样可以避免多个请求同时访问后端资源，减轻资源压力和提高系统性能。


---
"Sanity" 是一个英语词汇，指的是理智、明智、健全的心智状态或行为。它表示一个人的思维、判断和决策是否合理、合乎常理。

在计算机科学和软件开发领域，"sanity" 有时也用来表示对系统、代码或数据的合理性检查。这种检查通常是为了确保系统或代码的正确性、稳定性和安全性，以防止可能导致不正常行为或错误的问题。


---
垂直扩展是通过增加单个服务器的处理能力来提升系统性能，而水平扩展是通过添加更多的服务器来提升系统性能。两者可以结合使用，以获得更好的性能和可扩展性。



---
–Uneven distribution

Round Robin
---
Round Robin算法按照固定的顺序将请求依次分发给服务器。每当有新的请求到达时，算法将该请求分发给下一个服务器，循环往复。


---
平均等待时间公式 E[T] = 1 / (sμ - λ)
这个公式是排队论中的一个基本公式，用于描述M/M/1队列模型的平均等待时间。在这里，我们首先解释一下公式中的各个参数：

- \( E[T] \)：平均等待时间，也可以理解为平均响应时间。
- \( \lambda \)：到达率，即单位时间内到达的顾客/请求的数量。
- \( \mu \)：服务率，即单位时间内服务员可以服务的顾客/请求的数量。
- \( s \)：服务员的数量。

现在，我们来解释这个公式的来源和意义：

1. **来源**：这个公式是基于M/M/1队列模型的平衡方程和Little公式推导出来的。M/M/1意味着到达过程、服务过程都是泊松过程，并且只有一个服务员。

2. **现实意义**：
   - \( E[T] \) 表示一个顾客/请求在系统中的平均等待时间，包括等待服务和接受服务的时间。这是一个关键的性能指标，因为它可以告诉我们顾客/请求平均需要多长时间才能得到满足。
   - 当 \( s\mu \)（所有服务员的总服务率）大于 \( \lambda \)（到达率）时，这个公式才有意义。如果到达率超过了总服务率，那么队列将会无限增长，平均等待时间将会趋近于无穷大。
   - 公式中的分母 \( s\mu - \lambda \) 反映了服务能力与到达率之间的差异。当这个差异越大，即服务能力远大于到达率时，平均等待时间会减少。反之，如果到达率接近服务能力，那么平均等待时间会显著增加。

总的来说，这个公式为我们提供了一个工具，可以预测和分析在给定到达率和服务率下，顾客/请求的平均等待时间。这对于系统设计、资源分配和性能优化都是非常有价值的。